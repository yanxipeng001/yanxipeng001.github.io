
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://yanxipeng001.github.io/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
<link rel="stylesheet" href="/css/style.css">

  <!--[if lt IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->
  
<meta name="generator" content="Hexo 5.4.0"></head>
<body>
<div id="container">
  <div id="wrap">
    <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="yanxipeng001.github.io">
        </form>
      </div>
    </div>
  </div>
</header>
    <div class="outer">
      <section id="main">
  
    <article id="post-C语言基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/25/C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" class="article-date">
  <time datetime="2021-07-25T15:59:47.000Z" itemprop="datePublished">2021-07-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/07/25/C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/">C语言基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="C语言定义变量"><a href="#C语言定义变量" class="headerlink" title="C语言定义变量"></a>C语言定义变量</h1><p>定义一个变量</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> price;</span><br></pre></td></tr></table></figure>

<p>给变量赋值</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">price = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<p>定义一个变量的同时给变量赋值，又叫变量的<strong>初始化</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> num = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<p>C语言使用变量之前必须赋值或者初始化</p>
<p>试试只定义变量是什么情况</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line">结果</span><br><span class="line"><span class="number">4203721</span><span class="comment">//也可能是任意其他的值</span></span><br></pre></td></tr></table></figure>

<p>定义变量i，会在内存中为这个变量i开辟出一块区域，如果不初始化，那使用的就会使这个区域上原来的垃圾值</p>
<p>C语言中定义静态变量或者全局变量不赋值默认会给0值，但是局部变量不赋值会使用该变量内存区域上的垃圾值。</p>
<p>静态变量使用static关键字来修饰，静态变量的存储方式与全局变量相同，都是静态存储方式。注意静态变量属于静态存储方式，属于静态存储方式的变量不一定就是静态变量。例如：全局变量虽然属于静态存储方式，但并不是静态变量，它必须由static修饰才能成为静态变量</p>
<p>关于为什么C语言中静态变量的初始值是0？请看知乎回答</p>
<p><a target="_blank" rel="noopener" href="https://www.zhihu.com/question/49111720">https://www.zhihu.com/question/49111720</a></p>
<p>同时定义、初始化多个变量</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a,b=<span class="number">10</span>,c;<span class="comment">//起中a和c的值不确定b的值为10</span></span><br><span class="line"><span class="keyword">int</span> d = <span class="number">0</span>, e = <span class="number">0</span>;<span class="comment">//初始化多个变量只能一个一个赋值</span></span><br></pre></td></tr></table></figure>

<h1 id="C语言定义常量"><a href="#C语言定义常量" class="headerlink" title="C语言定义常量"></a>C语言定义常量</h1><p>常量必须初始化，在之后的程序就中不可以修改常量了</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> AMOUNT = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<h1 id="使用scanf来获取输入"><a href="#使用scanf来获取输入" class="headerlink" title="使用scanf来获取输入"></a>使用scanf来获取输入</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> a</span></span><br><span class="line"><span class="function"><span class="title">scanf</span><span class="params">(<span class="string">&quot;%d&quot;</span>, &amp;a)</span></span></span><br><span class="line"><span class="function"><span class="title">printf</span><span class="params">(<span class="string">&quot;%d\n&quot;</span>, a)</span></span></span><br></pre></td></tr></table></figure>

<h1 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h1><p>整数运算的结果一定也是整数，比如5/2=2…1，那C语言会直接把余数丢掉</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">10</span>/<span class="number">3</span>*<span class="number">3</span>);</span><br><span class="line"><span class="comment">//结果是9，明显不对</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//改进--使用浮点数</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, <span class="number">10.0</span>/<span class="number">3</span>);</span><br><span class="line"><span class="comment">//结果是3.333333</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, <span class="number">10.0</span>/<span class="number">3</span>*<span class="number">3</span>);</span><br><span class="line"><span class="comment">//结果是10</span></span><br></pre></td></tr></table></figure>

<p>浮点数的类型有两种：单精度float、双精度double</p>
<p>整数和浮点数的输入输出</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">int:</span><br><span class="line">printf(&quot;%d&quot;,...);</span><br><span class="line">scanf(&quot;%d&quot;,...);</span><br><span class="line"></span><br><span class="line">double:</span><br><span class="line">printf(&quot;%f&quot;,...);</span><br><span class="line">scanf(&quot;%lf&quot;,...);//注意输入时lf</span><br></pre></td></tr></table></figure>

<h4 id="浮点数例子：英尺转米"><a href="#浮点数例子：英尺转米" class="headerlink" title="浮点数例子：英尺转米"></a>浮点数例子：英尺转米</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请分别输入身高的英尺和英寸，&quot;</span></span><br><span class="line">		<span class="string">&quot;如输入\&quot;5 7\&quot;表示5英尺7英寸：&quot;</span>);</span><br><span class="line"><span class="keyword">int</span> foot;</span><br><span class="line"><span class="keyword">int</span> inch;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;foot,  &amp;inch);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;身高是%f米。\n&quot;</span>,</span><br><span class="line">		((foot + inch / <span class="number">12</span>) * <span class="number">0.3048</span>));</span><br><span class="line">结果</span><br><span class="line"><span class="number">1.524000</span>米<span class="comment">//错误的结果</span></span><br></pre></td></tr></table></figure>

<p>改进</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">printf(&quot;请分别输入身高的英尺和英寸，&quot;</span><br><span class="line">		&quot;如输入\&quot;5 7\&quot;表示5英尺7英寸：&quot;);</span><br><span class="line">double foot;</span><br><span class="line">double inch;</span><br><span class="line">scanf(&quot;%lf %lf&quot;, &amp;foot,  &amp;inch);</span><br><span class="line">printf(&quot;身高是%f米。\n&quot;,</span><br><span class="line">		((foot + inch / 12) * 0.3048));</span><br></pre></td></tr></table></figure>



<h1 id="练习：计算时间差"><a href="#练习：计算时间差" class="headerlink" title="练习：计算时间差"></a>练习：计算时间差</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> hour1, minute1;</span><br><span class="line"><span class="keyword">int</span> hour2, minute2;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入两组时间，比如1:30和 2:45\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d:%d&quot;</span>, &amp;hour1, &amp;minute1);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d:%d&quot;</span>, &amp;hour2, &amp;minute2);</span><br><span class="line"><span class="keyword">int</span> m1 = hour1*<span class="number">60</span> + minute1;</span><br><span class="line"><span class="keyword">int</span> m2 = hour2*<span class="number">60</span> + minute2;</span><br><span class="line"><span class="keyword">int</span> c = m2 -m1;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;时间差为%d时%d分\n&quot;</span>, c/<span class="number">60</span>, c%<span class="number">60</span>);</span><br></pre></td></tr></table></figure>

<h1 id="C语言的赋值运算符"><a href="#C语言的赋值运算符" class="headerlink" title="C语言的赋值运算符="></a>C语言的赋值运算符=</h1><p>在其它语言里=可能是个语句，但是在C语言里=是一个运算符，运算符是一个有结果的，a=6;的结果就是6</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(a=<span class="number">6</span>)&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//就相当于</span></span><br><span class="line"><span class="keyword">if</span>(<span class="number">6</span>)&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>C语言中还有许多其他的运算符比如+、 -、 *、 /、 %、 +=、 -+、 *=、 /=、&gt;、&lt;、&gt;=、&lt;=、==、!=等等，这些运算符的作用还有优先级可以百度查查</p>
<h1 id="小tips：交换两个变量"><a href="#小tips：交换两个变量" class="headerlink" title="小tips：交换两个变量"></a>小tips：交换两个变量</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> b = <span class="number">6</span>;</span><br><span class="line"><span class="keyword">int</span> t;</span><br><span class="line">t = a;</span><br><span class="line">a = b;</span><br><span class="line">b = t;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d %d\n&quot;</span>, a, b);</span><br></pre></td></tr></table></figure>

<p>像类似这种交换变量值的代码，都是一些小套路，光学习语言的语法还不够，像这些小套路小tips也是要多多学习的。那么多阅读别人的代码来学习喽~</p>
<h4 id="练习：逆序输出数字"><a href="#练习：逆序输出数字" class="headerlink" title="练习：逆序输出数字"></a>练习：逆序输出数字</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">712 / 100 -&gt; 7</span><br><span class="line">712 % 10  -&gt; 2</span><br><span class="line">712 % 100 -&gt; 12 / 10 -&gt; 1</span><br><span class="line">712 / 10  -&gt; 71 </span><br></pre></td></tr></table></figure>

<h4 id="练习：计算时间差2"><a href="#练习：计算时间差2" class="headerlink" title="练习：计算时间差2"></a>练习：计算时间差2</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">int hour1, minute1;</span><br><span class="line">int hour2, minute2;</span><br><span class="line">printf(&quot;请输入两组时间，比如2:45和 1:40\n&quot;);</span><br><span class="line">scanf(&quot;%d:%d&quot;, &amp;hour1, &amp;minute1);</span><br><span class="line">scanf(&quot;%d:%d&quot;, &amp;hour2, &amp;minute2);</span><br><span class="line">int im = minute2 - minute1;</span><br><span class="line">int ih = hour2 - hour1;</span><br><span class="line">if (im &lt; 0) &#123;</span><br><span class="line">    im = 60 + im;</span><br><span class="line">    ih--;</span><br><span class="line">&#125;</span><br><span class="line">if(ih &lt; 0 &amp;&amp; im &gt; 0)&#123;</span><br><span class="line">    ih++;</span><br><span class="line">    im = im - 60;</span><br><span class="line">    im = -im;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printf(&quot;时间差为%d时%d分\n&quot;, ih, im);</span><br></pre></td></tr></table></figure>

<h1 id="关系运算符-gt-、-lt-、-gt-、-lt-、-、"><a href="#关系运算符-gt-、-lt-、-gt-、-lt-、-、" class="headerlink" title="关系运算符&gt;、&lt;、&gt;=、&lt;=、==、!="></a>关系运算符&gt;、&lt;、&gt;=、&lt;=、==、!=</h1><p>关系运算符的运算结果为0或者1</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">4</span>==<span class="number">3</span>);<span class="comment">//0</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="number">4</span>==<span class="number">4</span>);<span class="comment">//1</span></span><br></pre></td></tr></table></figure>

<h4 id="练习：找零计算器"><a href="#练习：找零计算器" class="headerlink" title="练习：找零计算器"></a>练习：找零计算器</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> price;</span><br><span class="line"><span class="keyword">int</span> bill;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入价钱:&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;price);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入票面:&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;bill);</span><br><span class="line"><span class="keyword">if</span> (bill &gt; price) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;应该找您：%d&quot;</span>, bill - price);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;钱不够&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="switch-case"><a href="#switch-case" class="headerlink" title="switch-case"></a>switch-case</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (表达式) &#123;<span class="comment">//表达式的结果必须为整数</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">printf</span>();</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> 常量:</span><br><span class="line">        ...</span><br><span class="line">        ...</span><br><span class="line">        ...</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="计算正整数的位数-do-while-while"><a href="#计算正整数的位数-do-while-while" class="headerlink" title="计算正整数的位数(do-while,while)"></a>计算正整数的位数(do-while,while)</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入一个正整数\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">    x /= <span class="number">10</span>;</span><br><span class="line">	n++;</span><br><span class="line">&#125; <span class="keyword">while</span> (x&gt;<span class="number">0</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, n);</span><br></pre></td></tr></table></figure>

<h4 id="练习：逆序输出正整数"><a href="#练习：逆序输出正整数" class="headerlink" title="练习：逆序输出正整数"></a>练习：逆序输出正整数</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> digit = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;请输入一个正整数\n&quot;</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line"><span class="keyword">while</span>(x&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    <span class="comment">//取出个位数 </span></span><br><span class="line">    digit= x % <span class="number">10</span>;</span><br><span class="line">    ret = ret * <span class="number">10</span> + digit;</span><br><span class="line">    <span class="comment">//丢掉个位数 </span></span><br><span class="line">    x /= <span class="number">10</span>;</span><br><span class="line">&#125; </span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ret);</span><br></pre></td></tr></table></figure>

<h1 id="阶乘-for"><a href="#阶乘-for" class="headerlink" title="阶乘(for)"></a>阶乘(for)</h1><p>1*2*3*4*5…</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"><span class="keyword">int</span> fact = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> ( i &lt;= n) &#123;</span><br><span class="line">    fact *= i;</span><br><span class="line">    i++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d!=%d\n&quot;</span>, n, fact);</span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"><span class="keyword">int</span> fact = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">    fact *= i;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d!=%d\n&quot;</span>, n, fact);</span><br></pre></td></tr></table></figure>

<h1 id="跳出多重循环"><a href="#跳出多重循环" class="headerlink" title="跳出多重循环"></a>跳出多重循环</h1><p>接力break，或者使用goto，但是建议只在跳出多重循环的场合使用goto，因为goto容易破坏代码结构</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> x;</span><br><span class="line"><span class="keyword">int</span> one, two, five;</span><br><span class="line"><span class="keyword">int</span> <span class="built_in">exit</span>;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line"><span class="keyword">for</span> (one = <span class="number">1</span>; one &lt; x*<span class="number">10</span>; one++) &#123;</span><br><span class="line">	<span class="keyword">for</span> (two = <span class="number">1</span>; two &lt; x*<span class="number">10</span>/<span class="number">2</span>; two++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (five = <span class="number">1</span>; five &lt; x*<span class="number">10</span>/<span class="number">5</span>; five++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (one + two*<span class="number">2</span> + five*<span class="number">5</span> == x*<span class="number">10</span>) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;....&quot;</span>);</span><br><span class="line">				<span class="built_in">exit</span> = <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">				<span class="comment">//goto out;</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">exit</span>) <span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (<span class="built_in">exit</span>) <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//out:</span></span><br></pre></td></tr></table></figure>

<h1 id="求最大公约数"><a href="#求最大公约数" class="headerlink" title="求最大公约数"></a>求最大公约数</h1><p>约数，又称<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%9B%A0%E6%95%B0/9539111">因数</a>。<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%95%B4%E6%95%B0/1293937">整数</a>a除以整数b(b≠0) 除得的<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%95%86/3820976">商</a>正好是整数而没有<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E4%BD%99%E6%95%B0/6180737">余数</a>，我们就说a能被b整除，或b能整除a。a称为b的<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%80%8D%E6%95%B0/7827981">倍数</a>，b称为a的约数。</p>
<h4 id="枚举法求最大公约数"><a href="#枚举法求最大公约数" class="headerlink" title="枚举法求最大公约数"></a>枚举法求最大公约数</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a,b;</span><br><span class="line"><span class="keyword">int</span> min;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, a,b);</span><br><span class="line"><span class="keyword">if</span> (a &lt; b) &#123;</span><br><span class="line">	min = a;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	min = b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; min; i++) &#123;</span><br><span class="line">	<span class="keyword">if</span> (a%i == <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span> (b%i == <span class="number">0</span>) &#123;</span><br><span class="line">			ret = i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d和%d的最大公约数是%d.\n&quot;</span>, a,b,ret);</span><br></pre></td></tr></table></figure>

<h4 id="辗转相除法求最大公约数"><a href="#辗转相除法求最大公约数" class="headerlink" title="辗转相除法求最大公约数"></a>辗转相除法求最大公约数</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">如果b等于0，计算结束，a就是最大公约数</span></span><br><span class="line"><span class="comment">否则，计算a除以b的余数，让a等于b，b等于那个余数</span></span><br><span class="line"><span class="comment">回到第一步</span></span><br><span class="line"><span class="comment">a	b	t</span></span><br><span class="line"><span class="comment">12	18	12</span></span><br><span class="line"><span class="comment">18	12	6</span></span><br><span class="line"><span class="comment">12 	6	0</span></span><br><span class="line"><span class="comment">6	0</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">int</span> a,b,t;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d %d&quot;</span>, &amp;a ,&amp;b);</span><br><span class="line">a = <span class="number">12</span>; b = <span class="number">11</span>;</span><br><span class="line"><span class="keyword">while</span> (b!=<span class="number">0</span>) &#123;</span><br><span class="line">    t = a%b;</span><br><span class="line">    a = b;</span><br><span class="line">    b = t;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;a=%d, b=%d, t=%d\n&quot;</span>, a,b ,t);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;gcd=%d\n&quot;</span>, a);</span><br></pre></td></tr></table></figure>

<h1 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h1><p>C语言变量使用之前必须定义变量</p>
<p>C语言之后的语言有两个发展方向</p>
<p>C++/Java更强调类型，对类型检查更加严格</p>
<p>JavaScript、PHP、Python不看重类型，甚至不需要事先定义</p>
<ul>
<li>整数</li>
</ul>
<p>​    char、short、int、long、<strong>long long</strong>   <em>（加粗的是c99才有的类型）</em></p>
<ul>
<li>浮点数</li>
</ul>
<p>​    float、double、<strong>long double</strong></p>
<ul>
<li>逻辑</li>
</ul>
<p>​    <strong>bool</strong></p>
<ul>
<li><p>指针</p>
</li>
<li><p>自定义类型</p>
</li>
</ul>
<p>不同类型的区别：</p>
<p>所表达的范围：char &lt; short &lt; int &lt; float &lt; double</p>
<p>内存中所占的大小：1字节到16字节</p>
<p>内存中的表达形式：二进制数（或补码）、编码。整数的是二进制数可以直接在加法器运算，浮点数是编码的格式不能直接在加法器上做运算</p>
<h4 id="sizeof"><a href="#sizeof" class="headerlink" title="sizeof"></a>sizeof</h4><p>是一个运算符，给出某个类型或变量在内存中所占据的字节数，它是一个<strong>静态运算符</strong></p>
<p>sizeof(int)、sizeof(i)</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> a;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%ld\n&quot;</span>, <span class="keyword">sizeof</span>(a));<span class="comment">//4</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%ld\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">double</span>));<span class="comment">//8</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%ld\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">long</span> <span class="keyword">double</span>));<span class="comment">//16</span></span><br><span class="line">a = <span class="number">6</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%ld&quot;</span>, <span class="keyword">sizeof</span>(a++));</span><br><span class="line"><span class="comment">//sizeof是在编译的时候处理的，sizeof(a++)在编译结束后会被替换成4，所以a++这个计算压根就没有执行</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, a);<span class="comment">//6</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%ld&quot;</span>, <span class="keyword">sizeof</span>(a+<span class="number">1.0</span>));<span class="comment">//8,因为a+1.0之后就变成double类型了</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;szieof(char)=%ld\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">char</span>));<span class="comment">//1</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;szieof(short)=%ld\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">short</span>));<span class="comment">//2</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;szieof(int)=%ld\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));<span class="comment">//4</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;szieof(long)=%ld\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">long</span>));<span class="comment">//4</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;szieof(long long)=%ld\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">long</span> <span class="keyword">long</span>));<span class="comment">//8</span></span><br><span class="line"><span class="comment">//32位操作系统下的结果</span></span><br><span class="line"><span class="comment">//char 1,short 2, int 4, long 4, long long 8</span></span><br><span class="line"><span class="comment">//64位操作系统下的结果</span></span><br><span class="line"><span class="comment">//char 1,short 2, int 4, long 8, long long 8</span></span><br></pre></td></tr></table></figure>

<p>int 和 long 的长度取决于编译器（或CPU），int是用来表示<strong>计算机字长</strong>的。CPU、RAM之间的总线宽度和寄存器的容量字长在32位CPU中就是32bit，在64位CPU即使64bit，一个int就是表示一个寄存器能装多少个bit的（8bit=1字节）</p>
<h1 id="整数的范围"><a href="#整数的范围" class="headerlink" title="整数的范围"></a>整数的范围</h1><p>一个字节8bit</p>
<p>0000 0000 =&gt; 0</p>
<p>1111 1111 ~ 1000 0000 =&gt;  -1 ~ -128</p>
<p>0000 0001 ~ 0111 1111 =&gt; 1 ~ 127</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c = <span class="number">255</span>;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">255</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;c=%d, i=%d\n&quot;</span>, c, i);</span><br><span class="line"><span class="comment">//c: -1, i:255</span></span><br><span class="line"><span class="comment">//c:1111 1111 =&gt; -1</span></span><br><span class="line"><span class="comment">//i:00000000 00000000 00000000 11111111 =&gt; 255</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//unsigned</span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">char</span> cc = <span class="number">255</span>;</span><br><span class="line">print(<span class="string">&quot;c=%d\n&quot;</span>, c);<span class="comment">//255</span></span><br><span class="line"><span class="comment">//如果一个字面量常数想要表达自己是unsigned，可以后面+u或U</span></span><br><span class="line"><span class="keyword">char</span> a = <span class="number">255U</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;255U=%d\n&quot;</span>, a);<span class="comment">//还是-1</span></span><br></pre></td></tr></table></figure>

<p>unsigned的初衷并非扩展数能表达的范围，而是为了做纯二进制运算，主要是为了移位</p>
<h4 id="整数越界"><a href="#整数越界" class="headerlink" title="整数越界"></a>整数越界</h4><p>整数是以纯二进制方式进行计算的，所以：</p>
<p>1111 1111 + 1 =&gt; 1 0000 0000  =&gt; 0</p>
<p>0111 1111 + 1 =&gt; 1000 0000 =&gt; -128</p>
<p>1000 0000 - 1 =&gt; 0111 1111 =&gt; 127</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c = <span class="number">127</span>;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">255</span>;</span><br><span class="line">c= c +<span class="number">1</span> ;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;c=%d,i=%d\n&quot;</span>, c, i);</span><br><span class="line"><span class="comment">//c=-128,i=255</span></span><br></pre></td></tr></table></figure>

<h1 id="整数的输入输出"><a href="#整数的输入输出" class="headerlink" title="整数的输入输出"></a>整数的输入输出</h1><p>虽然有很多种整数类型，但是输入输出的时候，只有两种格式化占位符，int或long long</p>
<p>%d：所有小于int的 char short int 都用 %d</p>
<p>%ld：所有比int大的都用 %ld (long 、long long)</p>
<p>%u：unsigned</p>
<p>%lu：unsigned long long</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c = <span class="number">-1</span>;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">-1</span>;</span><br><span class="line"><span class="comment">//当把所有小于int的变量传进去的时候，printf会自动转换成int的长度</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;c=%u,i=%u\n&quot;</span>, c, i);</span><br><span class="line"><span class="comment">//c=4294967295,i=4294967295</span></span><br><span class="line"><span class="comment">//c的位置实际上会被打印成，11111111 11111111 11111111 11111111</span></span><br></pre></td></tr></table></figure>

<h1 id="8进制16进制"><a href="#8进制16进制" class="headerlink" title="8进制16进制"></a>8进制16进制</h1><p>以0开始的数字字面量是8进制</p>
<p>以0x开始的数字字面量是16进制</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c = <span class="number">012</span>;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">0x12</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;c=%d,i=%d\n&quot;</span>, c, i);</span><br><span class="line"><span class="comment">//c=10,i=18</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>16进制很适合表达二进制数据，因为4位二进制正好是一个16进制位</p>
</li>
<li><p>8进制的一位数字正好表达3位二进制</p>
<ul>
<li>因为早期计算机的字长是12的倍数，而非8</li>
</ul>
</li>
</ul>
<h1 id="选择整数类型"><a href="#选择整数类型" class="headerlink" title="选择整数类型"></a>选择整数类型</h1><ul>
<li><p>为什么有那么多整数类型？</p>
<ul>
<li>为了准确表达内存，做底层程序需要</li>
</ul>
</li>
<li><p>没有特殊需要就用int类型</p>
<ul>
<li>现在CPU的字长普遍是32或者64位，一次内存读写就是一个int，一次计算也是一个int，选择更短的类型不会更快，甚至可能更慢</li>
<li>现代编译器一般会设计内存对齐，所以更短的类型其实在内存中有可能也占据一个int的大小（虽然sizeof告诉你的更小）</li>
</ul>
</li>
<li><p>unsigned与否只是输出的不同，内部计算是一样的</p>
</li>
</ul>
<h1 id="浮点类型"><a href="#浮点类型" class="headerlink" title="浮点类型"></a>浮点类型</h1><p>float        字长32    范围±(1.20×10^-38 ~ 3.40×10^38)，0，±inf，nan        有效数字7</p>
<p>double    字长64    范围±(2.2×10^-308 ~ 1.79×10^308)，0，±inf，nan        有效数字15</p>
<ul>
<li><p>±inf：正负无穷大</p>
</li>
<li><p>nan：不是一个有效数字</p>
</li>
<li><p>范围：从正负两极向中间的0出发，只能很接近0，但是始终有一小段距离是浮点数无法表示的。比如：0 ~ 2.2×10^-308）</p>
</li>
</ul>
<p>float        scanf：%f        printf：%f,%e</p>
<p>double    scanf：%lf        printf：%f,%e</p>
<ul>
<li>%e：科学计数法的形式输出</li>
</ul>
<h4 id="输出精度"><a href="#输出精度" class="headerlink" title="输出精度"></a>输出精度</h4><p>在%和f之间加上.n可以指定输出小数点后几位，这样的输出是做4舍5入</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.3f\n&quot;</span>, <span class="number">-0.0049</span>);<span class="comment">//-0.005	四舍五入</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.30f\n&quot;</span>, <span class="number">-0.0049</span>);<span class="comment">//-0.004899999999999999800000000000</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%.3f\n&quot;</span>, <span class="number">-0.00049</span>);<span class="comment">//-0.000</span></span><br></pre></td></tr></table></figure>

<p>-0.004899999999999999800000000000是计算机内部的真实数字，-0.0049不能在计算机内部呗精确的表达为-0.0049。</p>
<p>从数学上看任意两个数之间都是连续的1<del>2之间有无数个数字连接着，但是计算机无法做到这点，只能是离散的表示1</del>2之间的数字。</p>
<p>为了表示0.0049计算机只能找到距离它最近的数字：-0.004899999999999999800000000000，但是实际上0.0049和-0.004899999999999999800000000000还是有距离的，这就是浮点数的误差，和精度无关。double比float能够表达更多的数，所以double能够相对表达更准确的数字，但是具体的一个数字在double里可能还是有误差的。</p>
<h4 id="超过范围的浮点数"><a href="#超过范围的浮点数" class="headerlink" title="超过范围的浮点数"></a>超过范围的浮点数</h4><p>printf输出inf表示超过范围的浮点数：±∞</p>
<p>printf输出nan表示不存在的浮点数</p>
<p>一个数除以0，得到的就是无穷大</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, <span class="number">12.0</span>/<span class="number">0.0</span>);<span class="comment">//inf</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, <span class="number">-12.0</span>/<span class="number">0.0</span>);<span class="comment">//-inf</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, <span class="number">0.0</span>/<span class="number">0.0</span>);<span class="comment">//nan</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, <span class="number">12</span>/<span class="number">0</span>);<span class="comment">//无法通过编译，整数不能除以0，无穷大不能用整数表达，可以用浮点数表达，虽然浮点的有效范围不包括无穷大，但是它的设计里把±∞、nan作为特殊的值定义在浮点数里面了</span></span><br></pre></td></tr></table></figure>

<h4 id="浮点运算的精度"><a href="#浮点运算的精度" class="headerlink" title="浮点运算的精度"></a>浮点运算的精度</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> a,b,c;</span><br><span class="line">a = <span class="number">1.345f</span>;<span class="comment">//默认是double，想要是float需要+f</span></span><br><span class="line">b = <span class="number">1.123f</span>;</span><br><span class="line">c = a + b;</span><br><span class="line"><span class="keyword">if</span> (c == <span class="number">2.468</span>) &#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;相等\n&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;不相等,c = %.10f,或%f\n&quot;</span>,c,c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//不相等,c = 2.4679999352,或2.468000</span></span><br><span class="line"><span class="comment">//小细节：float只有7位是有效的，所以c有效的数字是2.467999</span></span><br></pre></td></tr></table></figure>

<p>比较两个浮点数是否相等</p>
<ul>
<li><p>两个浮点数直接f1 == f2可能是失败的</p>
</li>
<li><p>正确的方法是：fabs(f1-f2) &lt; 1E-12；绝对值是不是小于一个很小的数，这个数只要比能表达的精度小就可以，比如float的有效数是7位，那就1E-8就ok，更保险一点是1E-12但是没有必要，1E-8就够了</p>
</li>
</ul>
<p>不能用浮点数去做一些精细的计算，可以业务上转换成整数去做运算，或者使用BCD的数来做计算，传统的计算器都是用BCD运算</p>
<h4 id="浮点数的内部表达"><a href="#浮点数的内部表达" class="headerlink" title="浮点数的内部表达"></a>浮点数的内部表达</h4><p>浮点是用编码形式表示，不是一个二进制数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sign___exponent(11bit)__________fraction(52bit)___________________________</span><br><span class="line">|    |							|											|</span><br><span class="line">63	62		    ....    	 	52	     ...    	...			...			0</span><br></pre></td></tr></table></figure>



<p>浮点数在计算时是由专用的硬件部件实现的（先把编码解开-&gt;再计算-&gt;计算出结果后再编码）</p>
<p>计算double和float所用的部件是一样的</p>
<h4 id="选择浮点类型"><a href="#选择浮点类型" class="headerlink" title="选择浮点类型"></a>选择浮点类型</h4><p>如果没特殊需要选择double</p>
<p>现代CPU能直接对double做硬件运算，性能不会比float差，在64位机器上，数据存储的速度也不比float慢</p>
<h1 id="字符类型"><a href="#字符类型" class="headerlink" title="字符类型"></a>字符类型</h1><ul>
<li>char是一种整数，也是一种特殊的类型：字符。原因是因为：<ul>
<li>可以用单引号表示字符的字面量：’a’, ‘1’。’’  也是一种字符</li>
<li>printf和scanf里用%c来输入输出字符</li>
</ul>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span> c;</span><br><span class="line">        <span class="keyword">char</span> d;</span><br><span class="line">        c = <span class="number">1</span>;</span><br><span class="line">        d = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, c);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//--------如何输入&#x27;1&#x27;这个字符给char c--------------- </span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span> c;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%c&quot;</span>, &amp;c);<span class="comment">//输入1 </span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;c=%d\n&quot;</span>, c); </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;c=&#x27;%c&#x27;\n&quot;</span>, c); </span><br><span class="line">    &#125;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">char</span> c;</span><br><span class="line">        <span class="comment">//scanf(&quot;%d&quot;, &amp;c);</span></span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;i);<span class="comment">//输入49 </span></span><br><span class="line">        c = i;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;c=%d\n&quot;</span>, c); </span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;c=&#x27;%c&#x27;\n&quot;</span>, c); </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">49</span> == <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;OK&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//测试scanf</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//输入 [12 1]、[12a]、[12    1]； </span></span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">int</span> c;</span><br><span class="line">        <span class="comment">//scanf(&quot;%d %c&quot;, &amp;i, &amp;c);</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%c&quot;</span>, &amp;i, &amp;c);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;i=%d, c=%d, c=&#x27;%c&#x27;\n&quot;</span>, i, c, c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h4 id="大小写转换"><a href="#大小写转换" class="headerlink" title="大小写转换"></a>大小写转换</h4><p>字母在ascll表中是顺序排列的</p>
<p>‘a’ - ‘A’ 可以得到之间的距离，a+’a’-‘A’ 可以把一个大写字母变成小写字母；a+’A’-‘a’可以把小写变成大写字母</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c = <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">c++;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%c\n&quot;</span>, c);</span><br><span class="line"><span class="keyword">int</span> i = <span class="string">&#x27;Z&#x27;</span> - <span class="string">&#x27;A&#x27;</span>;<span class="comment">//得到Z和A的距离 </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);</span><br><span class="line"><span class="comment">//&#x27;a&#x27;-&#x27;A&#x27;可以得到两者之间的距离</span></span><br><span class="line"><span class="comment">//A+ &#x27;a&#x27;-&#x27;A&#x27;可以把大写字母转成小写字母</span></span><br><span class="line"><span class="comment">//a+ &#x27;A&#x27;-&#x27;a&#x27;可以把小写字母转成大写字母 </span></span><br></pre></td></tr></table></figure>

<h1 id="逃逸字符"><a href="#逃逸字符" class="headerlink" title="逃逸字符"></a>逃逸字符</h1><p>\b：回退一格；不同的shell会对\b有不同的解释和处理</p>
<p>\t：到下一个表位；1.表示每行的固定位置。2.一个\t使得输出从下一个制表位开始。3.用\t才能使上下两行对齐</p>
<p>\n：换行；回车和换行在以前是两个动作，现在的shell会自动用两个动作完成\n</p>
<p>\r：回车</p>
<p>\“：双引号</p>
<p>\‘：单引号</p>
<p>\\：反斜杠本身</p>
<h1 id="类型自动转换"><a href="#类型自动转换" class="headerlink" title="类型自动转换"></a>类型自动转换</h1><p>当运算符的两边出现不一致的类型时，会自动转换成较大的类型</p>
<p>大的意思是能表达的数的范围更大</p>
<p>char -&gt; short -&gt; int -&gt; long -&gt; long long</p>
<p>int -&gt; float -&gt; double</p>
<p>对于printf任何小于int的类型都会被转换成int；float会被转换成double。</p>
<p>但是scanf不会，scanf要明确的知道后面变量的大小</p>
<p>1.要输入short，需要%hd；2.要输入int，需要%d；3.要输入long long，需要%ld</p>
<p>4.如果要以整数的形式输入char就要用以下的办法</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">char</span> c;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;i);</span><br><span class="line">c = i;</span><br></pre></td></tr></table></figure>

<h1 id="强制类型转换"><a href="#强制类型转换" class="headerlink" title="强制类型转换"></a>强制类型转换</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">32768</span>;</span><br><span class="line"><span class="keyword">short</span> s = (<span class="keyword">short</span>)i;</span><br><span class="line">pritnf(<span class="string">&quot;%d %d\n&quot;</span>, i, s);<span class="comment">//32768 -32768</span></span><br><span class="line"><span class="comment">//强制类型转换不会改变原值</span></span><br></pre></td></tr></table></figure>

<h1 id="bool类型"><a href="#bool类型" class="headerlink" title="bool类型"></a>bool类型</h1><p>#include &lt;stdbool.h&gt;</p>
<p>之后就可以使用bool和true、false</p>
<p>但是呢 我们没有真正的布尔类型，实际上它还是整数</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdbool.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> b = <span class="number">6</span> &gt; <span class="number">5</span>;</span><br><span class="line">	<span class="keyword">bool</span> t = <span class="literal">true</span>;</span><br><span class="line">	t = <span class="number">2</span>;<span class="comment">//这样也是能过编译的，因为实际上bool也是整数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, b);<span class="comment">//只能用整数形式输出，输出是1。没有办法看到true或者false的值</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h1><p>！ &amp;&amp;  ||</p>
<h4 id="短路"><a href="#短路" class="headerlink" title="短路"></a>短路</h4><p>a == 6 &amp;&amp; b == 1</p>
<p>a == 6 &amp;&amp; b += 1</p>
<p>a == 6 || b == 1</p>
<p>a == 6 || b += 1</p>
<h1 id="逗号运算符"><a href="#逗号运算符" class="headerlink" title="逗号运算符"></a>逗号运算符</h1><p>逗号用来连接两个表达式，并以其右边的表达式的值作为它的结果。<strong>逗号的优先级是所有运算符中最低的</strong>；逗号的组合关系是自左向右，所以左边的表达式会先计算，而右边的表达式的值就留下来作为逗号运算的结果</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i;</span><br><span class="line">i = <span class="number">3</span>+<span class="number">4</span>,<span class="number">5</span>+<span class="number">6</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);<span class="comment">//7</span></span><br><span class="line">i = (<span class="number">3</span>+<span class="number">4</span>,<span class="number">5</span>+<span class="number">6</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, i);<span class="comment">//11</span></span><br></pre></td></tr></table></figure>

<p>主要是在for中使用</p>
<p>for (i=0, j=10; i&lt;j; i++,j++) ……..</p>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span> </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//sum函数的定义在调用sum函数之后 并且 没有sum函数的原型声明，</span></span><br><span class="line">	<span class="comment">//那么编译器就会猜它是  int sum(int, int) </span></span><br><span class="line">	sum(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">	<span class="comment">//调用函数的时候sum(a,b);参数之间的逗号（,） 不是逗号运算符，而是一种标点符号。如果写成sum((a,b))那么就会先计算逗号(,)运算得到sum(b) </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数的定义 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i=begin; i&lt;end; i++) &#123;</span><br><span class="line">		sum += i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d到%d的和是%d\n&quot;</span>, begin, end, sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span> </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//函数的原型声明，用来告诉编译器sum的样子 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">void sum(int , int );也可以不写参数，但是为了便于阅读代码，不建议这么做</span></span><br><span class="line"><span class="comment">函数原型声明要写清楚参数的个数和类型，如果写成这样：void sum(); 编译器会自己猜测，导致一些不可预测的事情 </span></span><br><span class="line"><span class="comment">所以如果没参数就写成void sum(void);有参数就写明白了 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//这一步会发，1.根据原型判断，这里对不对 ;2.如果数据类型和原型不一致就会类型自动转换 </span></span><br><span class="line">	sum(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数的定义 </span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> begin, <span class="keyword">int</span> end)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (i=begin; i&lt;end; i++) &#123;</span><br><span class="line">		sum += i;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d到%d的和是%d\n&quot;</span>, begin, end, sum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>调用函数时给的值与参数类型不匹配时C语言传统上最大的漏洞</p>
<p>编译器总是去帮你把类型转换好，但这很可能不是你期望的</p>
<p>后续的语言C++/Java在这方面很严格</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cheer</span><span class="params">(<span class="keyword">int</span> i)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;cheer %d\n&quot;</span>, i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cheer(<span class="number">2.4</span>);<span class="comment">//warning</span></span><br><span class="line">    cheer(<span class="number">2.0</span>);<span class="comment">//没报错</span></span><br><span class="line">    <span class="keyword">double</span> f = <span class="number">2.4</span>;</span><br><span class="line">    cheer(f);<span class="comment">//没报错</span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h1 id="本地变量"><a href="#本地变量" class="headerlink" title="本地变量"></a>本地变量</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//函数内部的变量就是本地变量，函数的参数也是本地变量， </span></span><br><span class="line">	<span class="comment">//又叫局部变量，自动变量 (和生存期是自动的有关)</span></span><br><span class="line">	<span class="comment">//生存期--什么时候这个变量出现了，到什么时候它消亡了</span></span><br><span class="line">	<span class="comment">//作用域--在什么范围内可以访问这个变量</span></span><br><span class="line">	<span class="comment">//对于本地变量，生存期和作用域都是在大括号内（也叫-块） </span></span><br><span class="line">	<span class="keyword">int</span> a = <span class="number">5</span>;</span><br><span class="line">	<span class="keyword">int</span> b = <span class="number">6</span>;</span><br><span class="line">	swap(a, b);</span><br><span class="line">	<span class="comment">//在语句块中 定义变量 </span></span><br><span class="line">	<span class="keyword">if</span> (a &gt; b) &#123;</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">10</span>;<span class="comment">//i是本地变量 </span></span><br><span class="line">	&#125;</span><br><span class="line">	i++;<span class="comment">//此处非法,离开了块其中的变量就失效了 </span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//也可以直接使用大括号来定义 </span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;i=%d\n&quot;</span>, i);</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;a=%d\n&quot;</span>, a);<span class="comment">//在块里面可以使用外面的变量</span></span><br><span class="line">		<span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;a=%d\n&quot;</span>, a);<span class="comment">//在块里面定义一个和外面同名的变量，那么会覆盖外面的值 </span></span><br><span class="line">	 &#125; </span><br><span class="line">	 <span class="built_in">printf</span>(<span class="string">&quot;a=%d\n&quot;</span>, a);<span class="comment">//出来了之后，块内的a消亡了，现在使用的是块外的a变量 </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125; </span><br><span class="line"> </span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"> 	<span class="comment">//x,y,t是本地变量 </span></span><br><span class="line"> 	<span class="keyword">int</span> t = x;</span><br><span class="line"> 	x = y;</span><br><span class="line"> 	y = t;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//数组 </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//-----------------------定义数组------------------------------------</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> grades[<span class="number">10</span>];</span><br><span class="line">		<span class="keyword">int</span> i;</span><br><span class="line">	  	<span class="comment">//初始化数组 </span></span><br><span class="line">		<span class="keyword">for</span> (i=<span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">			grades[i] = <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span> (i=<span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,grades[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//----输入任意多数字，求平均值，并输出大于平均值的数字，输入-1后结束-----</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> x;</span><br><span class="line">	 	<span class="keyword">double</span> sum = <span class="number">0</span>;<span class="comment">//sum如果为整数，那么sum/cnt的结果就是整数，不是浮点数，这样不精确。 而且printf(&quot;%f&quot;)一个整数的话，输出的是0.000 </span></span><br><span class="line">	 	<span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	 	<span class="keyword">int</span> number[<span class="number">10</span>]; </span><br><span class="line">	 	</span><br><span class="line">	 	<span class="keyword">do</span> &#123;</span><br><span class="line">	 		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">	 		number[cnt] = x;</span><br><span class="line">	 		sum += x;</span><br><span class="line">	 		cnt ++;</span><br><span class="line">		 &#125;</span><br><span class="line">	 	<span class="keyword">while</span> ( x != <span class="number">-1</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> ( cnt &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">int</span> i;</span><br><span class="line">            <span class="keyword">double</span> average = sum/cnt;</span><br><span class="line">            <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;cnt; i++)&#123;</span><br><span class="line">                <span class="keyword">if</span> (number[i] &gt; average) &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">&quot;大于平均数的数字为：%d\n&quot;</span>,number[i]);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d:%d\n&quot;</span>, sum, cnt);</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%f\n&quot;</span>, sum/cnt);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;平均数为：%f\n&quot;</span>, sum/cnt);</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//----------------数组大小是否可以使用变量i定义----------------------</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">		<span class="keyword">int</span> arr[i];</span><br><span class="line">		<span class="keyword">int</span> j;</span><br><span class="line">		<span class="comment">//初始化数组 </span></span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">0</span>; j&lt;<span class="number">10</span>; j++) &#123;</span><br><span class="line">			arr[j] = <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//打印数组 </span></span><br><span class="line">		<span class="keyword">for</span> (j=<span class="number">0</span>; j&lt;<span class="number">10</span>; j++) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, arr[j]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//--------计数。统计0-9之间的每个数字出现的次数。输入-1后停止------</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">const</span> <span class="keyword">int</span> number = <span class="number">10</span>;<span class="comment">//使用常量定义数组大小 </span></span><br><span class="line">		<span class="keyword">int</span> x;</span><br><span class="line">		<span class="keyword">int</span> count[number];<span class="comment">//使用常量定义数组大小 </span></span><br><span class="line">		<span class="keyword">int</span> i;</span><br><span class="line">		<span class="comment">//初始化数组 </span></span><br><span class="line">		<span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;number; i++) &#123;</span><br><span class="line">			count[i] = <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//输入任意数字 </span></span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">		<span class="keyword">while</span> (x != <span class="number">-1</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (x&gt;=<span class="number">0</span> &amp;&amp; x&lt;=<span class="number">9</span>) &#123;</span><br><span class="line">				count[x] ++;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//输出统计结果 </span></span><br><span class="line">		<span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;number; i++) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;数字%d出现了%d次\n&quot;</span>, i, count[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">找出key在数组a中的位置</span></span><br><span class="line"><span class="comment">@param key 要找的数字</span></span><br><span class="line"><span class="comment">@param a 要寻找的数组 </span></span><br><span class="line"><span class="comment">@param length 数组a的长度</span></span><br><span class="line"><span class="comment">@return 如果找到，返回其在a中的位置；找不到则返回-1 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> a[], <span class="keyword">int</span> length)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">3</span>][<span class="number">5</span>];<span class="comment">//通常理解为3行5列</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//列数必须给 行数可以由编译器来数 </span></span><br><span class="line">	<span class="keyword">int</span> b[][<span class="number">5</span>] = &#123;</span><br><span class="line">		&#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>&#125;,</span><br><span class="line">		&#123;<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;,</span><br><span class="line">		&#123;<span class="number">1</span>&#125;,<span class="comment">//如果省略，表示补零 </span></span><br><span class="line">	&#125;; </span><br><span class="line">	<span class="comment">//打印数组b </span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;打印数组b:\n&quot;</span>); </span><br><span class="line">	<span class="keyword">int</span> i,j;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d,&quot;</span>, b[i][j]);	</span><br><span class="line">			<span class="keyword">if</span> (j == <span class="number">4</span>) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;---------------\n&quot;</span>); </span><br><span class="line">	<span class="comment">//不写大括号也可以，二位数组在内存中的排列和一维数组一样。 </span></span><br><span class="line">	<span class="comment">//可以去想象，二维数组是把这些数字逐行逐次的去内存中填满 。 </span></span><br><span class="line">	<span class="keyword">int</span> c[][<span class="number">5</span>] = &#123;</span><br><span class="line">		<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,</span><br><span class="line">	&#125;;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;打印数组c:\n \n&quot;</span>); </span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">5</span>; j++) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d,&quot;</span>, c[i][j]);	</span><br><span class="line">			<span class="keyword">if</span> (j == <span class="number">4</span>) &#123;</span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//----------数组集成初始化----------- </span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//这个叫数组的集成初始化 </span></span><br><span class="line">		<span class="keyword">int</span> arr[] = &#123;<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">23</span>,<span class="number">14</span>,<span class="number">32</span>&#125;;</span><br><span class="line">		<span class="comment">//集成初始化时的定位(c99)</span></span><br><span class="line">		<span class="keyword">int</span> a[<span class="number">10</span>] = &#123;</span><br><span class="line">			[<span class="number">0</span>] =<span class="number">2</span> , [<span class="number">2</span>] = <span class="number">3</span>,<span class="number">6</span> ,</span><br><span class="line">		&#125;; </span><br><span class="line">		<span class="comment">//数组初始化0</span></span><br><span class="line">		<span class="keyword">int</span> b[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> i;</span><br><span class="line">		<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%d, &quot;</span>, b[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//------最基础的线性查找---------</span></span><br><span class="line">	&#123;</span><br><span class="line">		 <span class="keyword">int</span> arr[] = &#123;<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">9</span>,<span class="number">11</span>,<span class="number">13</span>,<span class="number">23</span>,<span class="number">14</span>,<span class="number">32</span>&#125;;</span><br><span class="line">		 <span class="keyword">int</span> x;</span><br><span class="line">		 <span class="keyword">int</span> loc;</span><br><span class="line">		 <span class="built_in">printf</span>(<span class="string">&quot;请输入一个数字：&quot;</span>);</span><br><span class="line">		 <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;x);</span><br><span class="line">		 <span class="comment">//用sizeof计算数组长度 </span></span><br><span class="line">		 loc = search(x, arr, <span class="keyword">sizeof</span>(arr)/<span class="keyword">sizeof</span>(arr[<span class="number">0</span>]));</span><br><span class="line">		 <span class="keyword">if</span> (loc != <span class="number">-1</span>) &#123;</span><br><span class="line">		 	<span class="built_in">printf</span>(<span class="string">&quot;%d在第%d个位置上\n&quot;</span>, x, loc);</span><br><span class="line">		 &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		 	<span class="built_in">printf</span>(<span class="string">&quot;$d不存在\n&quot;</span>, x);</span><br><span class="line">		 &#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//两个细节 1.return ret 单一出口原则  2.一专多能是不好的（一个变量不能承担多个功能 ） </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> a[], <span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> ret = <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (a[i] == key) &#123;</span><br><span class="line">			ret = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ret;</span><br><span class="line">	<span class="comment">//这里的变量i既计数又作为判断结果的标志 </span></span><br><span class="line"><span class="comment">//	if ( i == length)</span></span><br><span class="line"><span class="comment">//	&#123;</span></span><br><span class="line"><span class="comment">//		return 1;</span></span><br><span class="line"><span class="comment">//	 &#125;</span></span><br><span class="line"><span class="comment">//	 else</span></span><br><span class="line"><span class="comment">//	 &#123;</span></span><br><span class="line"><span class="comment">//	 	return i;</span></span><br><span class="line"><span class="comment">//	  &#125; </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="练习：线性搜索"><a href="#练习：线性搜索" class="headerlink" title="练习：线性搜索"></a>练习：线性搜索</h1><p>结构类型</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//提到的知识点：散列表 hash table </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> a[], <span class="keyword">int</span> length)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义两个数组，但是这两个数据以后写代码遇到cache不友好，因为它是分开的两个数组 </span></span><br><span class="line"><span class="keyword">int</span> amount[] = &#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">10</span>,<span class="number">25</span>,<span class="number">50</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> *name[] = &#123;<span class="string">&quot;penny&quot;</span>, <span class="string">&quot;nickel&quot;</span>, <span class="string">&quot;dime&quot;</span>, <span class="string">&quot;quarte&quot;</span>, <span class="string">&quot;half-dollar&quot;</span>&#125;;</span><br><span class="line"><span class="comment">//结构这个东西对cache友好（相当于php的关联数组） </span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> amount;</span><br><span class="line">	<span class="keyword">char</span> *name;</span><br><span class="line">&#125; coins[] = &#123;</span><br><span class="line">	&#123;<span class="number">1</span>,<span class="string">&quot;penny&quot;</span>&#125;,</span><br><span class="line">	&#123;<span class="number">5</span>,<span class="string">&quot;nickel&quot;</span>&#125;,</span><br><span class="line">	&#123;<span class="number">10</span>,<span class="string">&quot;dime&quot;</span>&#125;,</span><br><span class="line">	&#123;<span class="number">25</span>,<span class="string">&quot;quarte&quot;</span>&#125;,</span><br><span class="line">	&#123;<span class="number">50</span>,<span class="string">&quot;half-dollar&quot;</span>&#125;,</span><br><span class="line">&#125;; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> k = <span class="number">10</span>;</span><br><span class="line">	<span class="comment">//以两个数组的方法搜索 </span></span><br><span class="line">	<span class="keyword">int</span> r = search(k, amount, <span class="keyword">sizeof</span>(amount)/<span class="keyword">sizeof</span>(amount[<span class="number">0</span>]));</span><br><span class="line">	<span class="keyword">if</span> (r &gt; <span class="number">-1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, name[r]);</span><br><span class="line">	&#125; </span><br><span class="line">	<span class="comment">//以结构的方法搜索 </span></span><br><span class="line">	<span class="keyword">int</span> i; </span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>; i &lt; <span class="keyword">sizeof</span>(coins)/<span class="keyword">sizeof</span>(coins[<span class="number">0</span>]); i ++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (k == coins[i].amount) &#123;</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, coins[i].name);</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	 &#125; </span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> a[], <span class="keyword">int</span> length)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> ret = <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (a[i] == key) &#123;</span><br><span class="line">			ret = <span class="number">1</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> ret; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="练习：二分法搜索"><a href="#练习：二分法搜索" class="headerlink" title="练习：二分法搜索"></a>练习：二分法搜索</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//二分法，每次砍一半的比较，</span></span><br><span class="line"><span class="comment">//第一步：用中间值mid=(left+right)/2;和x比较，x小于中间值说明x在：（1）.【left ~ mid】之间；反之在（2）.【mid ~ right】之间</span></span><br><span class="line"><span class="comment">// 第二步：如果（1）砍掉右边的一半：right=mid-1；如果（2）砍掉左边的一半：left=mid+1</span></span><br><span class="line"><span class="comment">// 重复 第一步和第二部直到mid的值等于x </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">serach</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>&#125;;</span><br><span class="line">	<span class="keyword">int</span> len = <span class="keyword">sizeof</span>(a)/<span class="keyword">sizeof</span>(a[<span class="number">0</span>]);</span><br><span class="line">	<span class="keyword">int</span> x = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;请输入一个数字：\n&quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;x);</span><br><span class="line">	res = search(x,a,len);</span><br><span class="line">	<span class="keyword">if</span> (res &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, res);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125; </span><br><span class="line"> </span><br><span class="line"> <span class="comment">//左下标left，右下标right，中间下标mid </span></span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> k, <span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> left = <span class="number">0</span>;</span><br><span class="line"> 	<span class="keyword">int</span> right = len<span class="number">-1</span>;</span><br><span class="line"> 	<span class="keyword">int</span> ret = <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">while</span>(left &lt; right)&#123;</span><br><span class="line">		<span class="keyword">int</span> mid = (left+right)/<span class="number">2</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (k &lt; a[mid]) &#123;</span><br><span class="line">			right = mid<span class="number">-1</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (k &gt; a[mid]) &#123;</span><br><span class="line">			left = mid+<span class="number">1</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			ret = mid;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"> 	<span class="keyword">return</span> ret;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h1 id="练习：选择排序"><a href="#练习：选择排序" class="headerlink" title="练习：选择排序"></a>练习：选择排序</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span></span>; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a[] = &#123;<span class="number">123</span>,<span class="number">345</span>,<span class="number">6</span>,<span class="number">756</span>,<span class="number">9</span>,<span class="number">807</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">34</span>,<span class="number">12</span>,<span class="number">321</span>,<span class="number">25</span>,<span class="number">34</span>,<span class="number">467</span>,<span class="number">547</span>,<span class="number">57</span>,<span class="number">34</span>,<span class="number">7</span>,<span class="number">9</span>,<span class="number">89</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">123</span>,<span class="number">123</span>,<span class="number">34</span>,<span class="number">34</span>,<span class="number">5</span>,<span class="number">71</span>&#125;;</span><br><span class="line">	<span class="keyword">int</span> maxId = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> len = <span class="keyword">sizeof</span>(a)/<span class="keyword">sizeof</span>(a[<span class="number">0</span>]);</span><br><span class="line">	<span class="keyword">int</span> swap = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="comment">//选择排序，每次选出一个最大的放到数组的最后面 </span></span><br><span class="line">	<span class="keyword">for</span> (i = len<span class="number">-1</span>; i &gt; <span class="number">0</span>; i--) </span><br><span class="line">	&#123;</span><br><span class="line">		maxId = max(a, i+<span class="number">1</span>);</span><br><span class="line">		<span class="comment">//交换值 </span></span><br><span class="line">		swap = a[i];</span><br><span class="line">		a[i] = a[maxId];</span><br><span class="line">		a[maxId] = swap;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//打印出排好序的数组 </span></span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"> &#125; </span><br><span class="line"> </span><br><span class="line"> <span class="function"><span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len)</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"> 	<span class="keyword">int</span> i; </span><br><span class="line"> 	<span class="keyword">int</span> maxId = <span class="number">0</span>;</span><br><span class="line"> 	<span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;len; i++)</span><br><span class="line"> 	&#123;</span><br><span class="line"> 		<span class="keyword">if</span>(a[maxId] &lt; a[i])</span><br><span class="line"> 		&#123;</span><br><span class="line"> 			maxId = i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"> 	<span class="keyword">return</span> maxId;</span><br><span class="line"> &#125; </span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h1 id="取址运算符"><a href="#取址运算符" class="headerlink" title="取址运算符"></a>取址运算符</h1><p>取址运算符&amp; ，它的操作数必须是变量 ,（实际测试得到结果：也可以是const定义的常量，也可以是字符串字面量 ） </p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//地址的大小是否与int相同取决于编译器 </span></span><br><span class="line">	<span class="comment">//想要printf输出地址需要使用%p，而不是真的把地址当成整数，地址和int并不是永远相同 </span></span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;0x%x\n&quot;</span>, &amp;i);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;i);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> p;</span><br><span class="line">    p = (<span class="keyword">int</span>)&amp;i;<span class="comment">//32位架构下这么做会导致p的值不是i的地址 </span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;0x%x\n&quot;</span>, p);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, p);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//32为架构下下面的打印值就是4，4</span></span><br><span class="line">    <span class="comment">//64位架构下是4，8 </span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>)); <span class="comment">//	%lu32位无符号整数</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="keyword">sizeof</span>(&amp;i)); </span><br><span class="line"></span><br><span class="line">    <span class="comment">//相邻两个变量在内存中的地址关系</span></span><br><span class="line">    <span class="comment">//ab的地址正好相差一个int大小</span></span><br><span class="line">    <span class="comment">//变量在内存中放在堆栈中 ，在堆栈中我们分配内存地址是由大到小分配 </span></span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;a); </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;b); </span><br><span class="line"></span><br><span class="line">    <span class="comment">//数组的地址</span></span><br><span class="line">    <span class="keyword">int</span> arr[<span class="number">10</span>];</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;数组的地址\n&quot;</span>); </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, arr); </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;arr); </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;arr[<span class="number">0</span>]); </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, &amp;arr[<span class="number">1</span>]); </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> *p)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">g</span><span class="params">(<span class="keyword">int</span> k)</span></span>; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//指针变量，就是保存地址的变量</span></span><br><span class="line">	<span class="comment">/** </span></span><br><span class="line"><span class="comment">	int i;</span></span><br><span class="line"><span class="comment">	int* p = &amp;i;</span></span><br><span class="line"><span class="comment">	int* p,q;//p是指针类型变量，q是int类型变量 </span></span><br><span class="line"><span class="comment">	int *p,q;//p是指针类型变量，q是int类型变量 </span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">6</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;&amp;i=%p\n&quot;</span>, &amp;i);</span><br><span class="line">	f(&amp;i);<span class="comment">//传值给指针类型参数 </span></span><br><span class="line">	g(i);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> *p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot; p=%p\n&quot;</span>, p);</span><br><span class="line">	<span class="comment">/** </span></span><br><span class="line"><span class="comment">		//*是一个运算符，用来访问指针的值所表示的地址上的变量</span></span><br><span class="line"><span class="comment">		//可以做右值可以做左值</span></span><br><span class="line"><span class="comment">		int k = *p;</span></span><br><span class="line"><span class="comment">		*p = k + 1; </span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;*p=%p\n&quot;</span>, *p);<span class="comment">//使用*运算符访问这个地址上的变量 </span></span><br><span class="line">	<span class="comment">//*p = 26;//在函数里面可以修改i的值 </span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">g</span><span class="params">(<span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;k=%d\n&quot;</span>, k);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="数组与指针"><a href="#数组与指针" class="headerlink" title="数组与指针"></a>数组与指针</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">minmax</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len, <span class="keyword">int</span> *min, <span class="keyword">int</span> *max)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> a[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,&#125;;</span><br><span class="line">	<span class="keyword">int</span> min,max;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;main sizeof(a)=%lu\n&quot;</span>, <span class="keyword">sizeof</span>(a));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;main a =%p\n&quot;</span>, a);</span><br><span class="line">	minmax(a, <span class="keyword">sizeof</span>(a)/<span class="keyword">sizeof</span>(a[<span class="number">0</span>]), &amp;min, &amp;max);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a[0]=%d\n&quot;</span>, a[<span class="number">0</span>]);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;min=%d,max=%d\n&quot;</span>, min, max);</span><br><span class="line">	<span class="comment">//数组变量是特殊的指针 </span></span><br><span class="line">	<span class="comment">//	int a[10]; int *p=a;不需要用&amp;就能取地址</span></span><br><span class="line">	<span class="comment">//	但是数组的单元表达的是变量 ，需要用&amp;取地址</span></span><br><span class="line">	<span class="comment">//	a == &amp;a[1]; </span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//[]运算符可以对数组做，也可以对指针做</span></span><br><span class="line">	<span class="comment">//  p[0] &lt;==&gt; a[0] </span></span><br><span class="line">	<span class="keyword">int</span> *p = &amp;min;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;*p=%d\n&quot;</span>, *p);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;p[0]=%d\n&quot;</span>, p[<span class="number">0</span>]);<span class="comment">//p[0]，指的是我以为p所指的地方是一个数组那么我取第一个元素 </span></span><br><span class="line">	<span class="comment">//*运算符也可以对数组做</span></span><br><span class="line">	<span class="comment">//	*a = 25; </span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;*a=%d&quot;</span>, *a);</span><br><span class="line">	<span class="comment">//实际上数组变量是const的指针，所以不能被赋值 </span></span><br><span class="line">	<span class="keyword">int</span> b[] = &#123;<span class="number">0</span>&#125;;<span class="comment">//可以被看作int * const b;这个b是一个常量他不能被改变 </span></span><br><span class="line">	<span class="comment">//b = a; //所以这样做是不允许的 </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//函数参数表中的数组实际上是指针</span></span><br><span class="line"><span class="comment">//以下四种原型是等价的</span></span><br><span class="line"><span class="comment">//int sum(int *ar, int n);</span></span><br><span class="line"><span class="comment">//int sum(int *, int);</span></span><br><span class="line"><span class="comment">//int sum(int ar[], int n);</span></span><br><span class="line"><span class="comment">//int sum(int [], int); </span></span><br><span class="line"><span class="comment">// int *ar和int ar[]只是在函数参数时是等价的</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">minmax</span><span class="params">(<span class="keyword">int</span> a[], <span class="keyword">int</span> len, <span class="keyword">int</span> *min, <span class="keyword">int</span> *max)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;minmax sizeof(a)=%lu\n&quot;</span>, <span class="keyword">sizeof</span>(a));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;minmax a=%p\n&quot;</span>, a);</span><br><span class="line">	<span class="comment">//a[0] =  100;//在function内改变外部的数组值 </span></span><br><span class="line">	*min = *max = a[<span class="number">0</span>];</span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">1</span>; i&lt;len; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (a[i] &lt; *min) &#123;</span><br><span class="line">			*min = a[i];<span class="comment">//函数内改变外部变量值 </span></span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">if</span> (a[i] &gt; *max)</span><br><span class="line">		&#123;</span><br><span class="line">			*max = a[i];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># <span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//这是字符数组,不是字符串，因为不能用字符串的方式做计算 </span></span><br><span class="line">    <span class="keyword">char</span> word[] = &#123;<span class="string">&#x27;H&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;!&#x27;</span>&#125;;</span><br><span class="line">    <span class="comment">//这是字符串</span></span><br><span class="line">    <span class="keyword">char</span> word1[] = &#123;<span class="string">&#x27;H&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;!&#x27;</span>, <span class="string">&#x27;\0&#x27;</span>&#125;;</span><br><span class="line">    <span class="comment">//&#x27;\0&#x27;代表的就是整数0 </span></span><br><span class="line">    <span class="comment">//word1还是一个字符数组，但是因为他的后面有一个0，他就成为了c语言的中可以使用字符串运算规则运算的‘字符串’</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//&#x27;\0&#x27;和0一样，某些时候强调使用&#x27;\0&#x27;，因为它是一个字节，而0是int会是四个字节 </span></span><br><span class="line">    <span class="keyword">char</span> word2[] =  &#123;<span class="string">&#x27;H&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;!&#x27;</span>, <span class="number">0</span>&#125;;</span><br><span class="line">    <span class="comment">//0标志着字符串的结束，但是他不是字符串的一部分，计算字符串的长度时不包含这个0</span></span><br><span class="line">    <span class="comment">//字符串在内存中以数组的形式存在（表达形式是数组--一片连续的空间），</span></span><br><span class="line">    <span class="comment">//可以用数组或者指针的形式访问，更多的是用指针的形式访问 ,但是字符串它是数组</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//定义字符串变量 </span></span><br><span class="line">    <span class="keyword">char</span> *str = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    <span class="keyword">char</span> word3[] = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    <span class="keyword">char</span> line[<span class="number">10</span>] = <span class="string">&quot;Hello&quot;</span>; </span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">	&quot;Hello&quot;是一个字符串字面量，或者叫字符串常量，</span></span><br><span class="line"><span class="comment">	它会被编译器变成一个字符串数组放在某处。</span></span><br><span class="line"><span class="comment">	这个数组长度是6，结尾还有表示结束的0</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//如果有两个相邻的字符串，c语言会自动帮忙连接起来两个字符串成一个大字符串 </span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请分别输入身高的英尺和英寸&quot;</span></span><br><span class="line">           <span class="string">&quot;如输入\&quot;5 7\&quot;表示5英尺7英寸\n&quot;</span>); </span><br><span class="line">    <span class="comment">//反斜杠表示这一行的字符串还没有结束,下一行的内容也是这个字符串的部分 </span></span><br><span class="line">    <span class="comment">//这样也可以连接两个字符串，但是下一行开始的tab也会被打印出来</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请分别输入身高的英尺和英寸\</span></span><br><span class="line"><span class="string">	 		如输入\&quot;5 7\&quot;表示5英尺7英寸\n&quot;</span>); </span><br><span class="line"></span><br><span class="line">    <span class="comment">//c语言的字符串是以字符数组的形态存在的</span></span><br><span class="line">    <span class="comment">//所以不能用运算符对字符串做运算（+-*/） java、php等就可以用+连接字符串 </span></span><br><span class="line">    <span class="comment">//c诞生的年代计算机主要处理数字计算，所以c对字符串的支持有限， </span></span><br><span class="line">    <span class="comment">//唯一特殊的地方是字符串字面量可以用来初始化字符数组（这是唯一c语言表现出来它懂字符串的地方）</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="字符串变量"><a href="#字符串变量" class="headerlink" title="字符串变量"></a>字符串变量</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">char</span> *s = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">	<span class="comment">//s[0] = &#x27;B&#x27;;//此处出错，编译和运行没有报错，但是后面的代码完全没执行 </span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Here!s[0]=%c\n&quot;</span>, s[<span class="number">0</span>]);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">char</span> *s2 = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;s =%p\n&quot;</span>, s);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;s2=%p\n&quot;</span>, s2);</span><br><span class="line">	<span class="comment">//s1和s2的地址一样，用同样的字符串字面量初始化了两个字符串变量，这两个变量指向了同一个地址 </span></span><br><span class="line">	<span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;&amp;i=%p\n&quot;</span>, &amp;i); </span><br><span class="line">	<span class="comment">//i是本地变量，通过打印地址发现，i的地址和s1 s2所指的地址不在一个地方 ，他们离得很远</span></span><br><span class="line">	<span class="comment">//&quot;Hello World&quot;所在的地址号很小，这个地方叫 《代码段》，代码段是只读的</span></span><br><span class="line">	<span class="comment">//如果试图对代码段进行写的操作，那么操作系统会有一种保护机制，会认为你在做坏事情，让这个程序崩溃掉。</span></span><br><span class="line">	<span class="comment">//如果让你写进去了，那就说明这个操作系统不够好没有起到保护作用</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">		&quot;Hello world&quot;是在编译的时候就有值的，编译器把它放在一个只能读不能写的地方，</span></span><br><span class="line"><span class="comment">		其它变量也要被赋值成这个字符串常量的值时，就会直接使用&quot;Hello world&quot;那个地方的地址 </span></span><br><span class="line"><span class="comment">		所以s1和s2地址是一样的。c语言是早期的语言没有做到字符串处理自动化的功能 </span></span><br><span class="line"><span class="comment">	*/</span> </span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">		char *s = &quot;Hello World&quot;;</span></span><br><span class="line"><span class="comment">		s是一个指针，初始化为指向一个字符串常量，由于这是一个常量所在的地方，所以实际上s是const char *s,</span></span><br><span class="line"><span class="comment">		但是由于历史的原因，编译器接受不带const的写法。</span></span><br><span class="line"><span class="comment">		但是试图对s所指的字符串做写入会导致严重的后果。 </span></span><br><span class="line"><span class="comment">	*/</span> </span><br><span class="line">	<span class="comment">//如果需要修改字符串，应该用数组</span></span><br><span class="line">	<span class="keyword">char</span> ss[] = <span class="string">&quot;Hello, world!&quot;</span>;</span><br><span class="line">	<span class="comment">//字符数组声明是把不可写的字符串常量复制到可写的本地变量来了 </span></span><br><span class="line">	<span class="comment">//数组：这个字符串在这里 ；作为本地变量空间自动被回收</span></span><br><span class="line">	<span class="comment">//指针：这个字符串不知道在哪里</span></span><br><span class="line">	<span class="comment">//什么时候用指针：1.单纯的就是表达一个字符串常量 </span></span><br><span class="line">	<span class="comment">//				  2.表示函数的参数（当参数时，数组形式其实就是指针形式，不妨就用指针来表示） </span></span><br><span class="line">	<span class="comment">//				  3. 使用动态分配空间时</span></span><br><span class="line">	<span class="comment">//结论：如果要构造一个字符串，就用数组；如果要处理一个字符串，就用指针</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//char*是字符串？</span></span><br><span class="line">	<span class="comment">//字符串可以表达为char*的形式，但是char*不一定就是字符串 就好像int*不一定代表是整数数组一样</span></span><br><span class="line">	<span class="comment">//只有当char*所指的字符数组有结尾的0，才能说它所指的就是字符串 </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="字符串的输入输出"><a href="#字符串的输入输出" class="headerlink" title="字符串的输入输出"></a>字符串的输入输出</h1><p>%s</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//c语言处理字符串的能力还是不足的</span></span><br><span class="line">	<span class="keyword">char</span> *t = <span class="string">&quot;title&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span> *s;</span><br><span class="line">	s = t;</span><br><span class="line">	<span class="comment">//并没有产生新的字符串，只是让指针s指向了t所指的字符串，对s做的任何操作就是对t做的，因为他俩指向同一个内存地址</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//输入hello world </span></span><br><span class="line">	<span class="keyword">char</span> <span class="built_in">string</span>[<span class="number">8</span>];</span><br><span class="line">	<span class="keyword">char</span> string2[<span class="number">8</span>];</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>,<span class="built_in">string</span>); <span class="comment">//读字符不读空格回车tab，所以scanf读入一个单词（到空格、tab或回车为止） </span></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, string2); </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s##%s##\n&quot;</span>,<span class="built_in">string</span>, string2); </span><br><span class="line">	<span class="comment">//安全的输入,试试输入12345678 </span></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%7s&quot;</span>, <span class="built_in">string</span>);<span class="comment">//%和s之间的数字应该比数组的大小小一 </span></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%7s&quot;</span>, string2);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s##%s##\n&quot;</span>,<span class="built_in">string</span>, string2); </span><br><span class="line">	<span class="comment">/**常见错误</span></span><br><span class="line"><span class="comment">	char *string;</span></span><br><span class="line"><span class="comment">	scanf(&quot;%s&quot;,string);</span></span><br><span class="line"><span class="comment">	误以为char*就是字符串类型； </span></span><br><span class="line"><span class="comment">	没有初始化string为0 </span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	char buffer[100]=&quot;&quot;;</span></span><br><span class="line"><span class="comment">	这是一个空字符串，buffer[0]==&#x27;\0&#x27;</span></span><br><span class="line"><span class="comment">	char buffer[]=&quot;&quot;;</span></span><br><span class="line"><span class="comment">	这个数组长度只有1 ，buffer[0]==&#x27;\0&#x27;,这个buffer里放不下任何字符串 </span></span><br><span class="line"><span class="comment">	*/</span> </span><br><span class="line">	 </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="常用的字符串函数"><a href="#常用的字符串函数" class="headerlink" title="常用的字符串函数"></a>常用的字符串函数</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//size_t strlen(const char *s);</span></span><br><span class="line"><span class="comment">//int strcmp(const char *s1. const char *s2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//char * strcpy(char *restrict dst, const char *restrict src)</span></span><br><span class="line"><span class="comment">//char * strcat(char *restrict s1, const char *restrict s2)</span></span><br><span class="line"><span class="comment">//strcpy strcat 有安全问题，因为目的str没有足够的空间就会出错 </span></span><br><span class="line"><span class="comment">//安全的版本</span></span><br><span class="line"><span class="comment">//char * strncpy(char *restrict dst, const char *restrict src, size_t n)</span></span><br><span class="line"><span class="comment">//char * strncat(char *restrict s1, const char *restrict s2, size_t n)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//int strncmp(const char *s1, const char *s2, size_t n);n代表比较前几个字符 </span></span><br><span class="line"><span class="comment">//char * strchr(const char *s, int c);从做左开始找 </span></span><br><span class="line"><span class="comment">//char * strchr(const char *s, int c)；从右开始找 </span></span><br></pre></td></tr></table></figure>

<h1 id="const指针-指针运算"><a href="#const指针-指针运算" class="headerlink" title="const指针\指针运算"></a>const指针\指针运算</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i= <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">int</span> j = <span class="number">0</span>;</span><br><span class="line">	<span class="comment">//指针是const，一旦得到了某个变量的地址，不能再指向其它变量</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> * <span class="keyword">const</span> q = &amp;i;<span class="comment">//q是const </span></span><br><span class="line">	*q = <span class="number">26</span>;<span class="comment">//ok</span></span><br><span class="line">	<span class="comment">//q++;//error</span></span><br><span class="line">	<span class="comment">//q = &amp;j;//error</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//所指的是const，表示不能通过这个指针取修改那个变量（并不能是得那个变量成为const）</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">int</span> *p = &amp;i;</span><br><span class="line">	<span class="comment">//*p = 26;//error</span></span><br><span class="line">	i = <span class="number">26</span>;<span class="comment">//ok</span></span><br><span class="line">	p = &amp;j;<span class="comment">//ok</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//const数组</span></span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">int</span> a[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,&#125;;</span><br><span class="line">	<span class="comment">//数组变量已经是const指针了，这里的const表明数组得每个单元都是const int，所以必须通过初始化进行赋值 </span></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="指针运算"><a href="#指针运算" class="headerlink" title="指针运算"></a>指针运算</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//sizeof(char) = 1; sizeof(int) = 4</span></span><br><span class="line"><span class="keyword">char</span> ac[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,&#125;;</span><br><span class="line"><span class="keyword">char</span> *p = ac;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p  =%p\n&quot;</span>, p);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p+1=%p\n&quot;</span>, p+<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> ai[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,&#125;;</span><br><span class="line"><span class="keyword">int</span> *q = ai;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;q  =%p\n&quot;</span>, q);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;q+1=%p\n&quot;</span>, q+<span class="number">1</span>);</span><br><span class="line"><span class="comment">//指针+1是在加上它类型的sizeof个单位，就是向右移动一个单元 </span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;*(p+1)=%d\n&quot;</span>, *(p+<span class="number">1</span>));</span><br><span class="line"><span class="comment">//*p     -&gt; ac[0]</span></span><br><span class="line"><span class="comment">//*(p+1) -&gt; ac[1]</span></span><br><span class="line"><span class="comment">//*(p+n) -&gt; ac[n]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> *p1 = &amp;ac[<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span> *q1 = &amp;ai[<span class="number">6</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p    =%p\n&quot;</span>, p);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p1   =%p\n&quot;</span>, p1);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;p1-p =%d\n&quot;</span>, p1-p);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;q    =%p\n&quot;</span>, q);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;q1   =%p\n&quot;</span>, q1);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;q1-q =%d\n&quot;</span>, q1-q);</span><br><span class="line"><span class="comment">//两个指针相减得到的不是两个地址之间相减的值，而是两个指针之间相隔了几个单元 </span></span><br><span class="line"></span><br><span class="line">*p++;<span class="comment">//取出p所指得那个数据来，完事之后顺便把p移到下一个位置去 </span></span><br><span class="line"><span class="comment">//*的优先级虽然高，但是没有++高</span></span><br><span class="line"><span class="comment">//常用于数组类的连续空间操作</span></span><br><span class="line"><span class="comment">//某些CPU上。这个可以直接被翻译成一条汇编指令 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//&lt;,&lt;=,==,&gt;,&gt;=,!=都可以对指针做（但是不能做*/法），比较它们在内存中的地址 </span></span><br></pre></td></tr></table></figure>

<h1 id="0地址"><a href="#0地址" class="headerlink" title="0地址"></a>0地址</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span> </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	我们现代的操作系统 ，都是多进程的操作系统，这些系统的基本管理单元是进程，</span></span><br><span class="line"><span class="comment">	什么是进程：比如你双击一个东西，它运行起来了，它就是操作系统里的一个进程 ，</span></span><br><span class="line"><span class="comment">	对于进程来说它最基本的概念，操作系统会给他一个虚拟的地址空间，也就是说所有程序运行时都以为它具有从0到X的一片连续的内存空间 ，</span></span><br><span class="line"><span class="comment">	X是多少呢，如果32位操作系统 就是4G </span></span><br><span class="line"><span class="comment">	所以任何程序都有0地址，这个是个虚拟的0地址 ，但是这个虚拟的物理上怎么翻译是另外一回事，我们有一门课叫操作系统 ，在那门课里面我们会详细讲 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	当然你的内存中可以有0地址，但是0地址通常是个不能随便碰的地址</span></span><br><span class="line"><span class="comment">	所以你的指针不应该具有0值</span></span><br><span class="line"><span class="comment">	因此可以用0地址来表示特殊的事请：</span></span><br><span class="line"><span class="comment">		1.返回的指针是无效的</span></span><br><span class="line"><span class="comment">		2.指针没有被真正的初始化（先初始化为0）</span></span><br><span class="line"><span class="comment">		</span></span><br><span class="line"><span class="comment">	NULL是一个预定义的符号，表示0地址（NULL一定要是大写） </span></span><br><span class="line"><span class="comment">	建议使用NULL不用0，有的编译器不愿意你用0来表示0地址 ，有的编译器0和NULL不相等 </span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	无论指针指向什么类型（无论什么类型的指针）,所有指针的大小都是一样的，因为都是地址。 </span></span><br><span class="line"><span class="comment">	指向不同类型的指针是不能直接互相赋值的，这是为了避免用错指针 </span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="keyword">int</span> ai[] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>&#125;;</span><br><span class="line">	<span class="keyword">int</span> *q = ai;</span><br><span class="line">	<span class="keyword">char</span> *p = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="comment">//p = q; //warning </span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	指针类型的转换</span></span><br><span class="line"><span class="comment">	void* 表示不知道指向什么类型的指针,这个往往会用在底层系统程序上，我要直接去访问某个内存地址，内存地址所代表的比如外部设备、控制寄存器等 </span></span><br><span class="line"><span class="comment">		计算时与char*相同（但不相通）</span></span><br><span class="line"><span class="comment">	指针也可以转换类型</span></span><br><span class="line"><span class="comment">		int *p = &amp;i;void *q = (void*)p; </span></span><br><span class="line"><span class="comment">	这并没有改变p所指的变量的类型，而是让后人用不同的眼光通过p看它所指的变量</span></span><br><span class="line"><span class="comment">	我不再当你是int了，我认为你就是个void </span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	总结：用指针来做什么</span></span><br><span class="line"><span class="comment">	需要传入较大的数据时用作参数</span></span><br><span class="line"><span class="comment">	传入数组以后对数组做操作 </span></span><br><span class="line"><span class="comment">	函数返回不止一个结果 ，用指针做参数，让它带出结果 </span></span><br><span class="line"><span class="comment">	  用函数来修改不止一个变量 </span></span><br><span class="line"><span class="comment">	动态申请内存的时候 </span></span><br><span class="line"><span class="comment">	*/</span> </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="动态内存分配"><a href="#动态内存分配" class="headerlink" title="动态内存分配"></a>动态内存分配</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	如果输入数据时，先告诉你个数，然后再输入，要记录每个数据</span></span><br><span class="line"><span class="comment">	c99可以用变量做数组定义的大小，c99之前呢？ </span></span><br><span class="line"><span class="comment">	*/</span> </span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> number;</span><br><span class="line">	<span class="keyword">int</span> *a;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="comment">//c99之前变量都要写在头上</span></span><br><span class="line">	 </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;输入数量：&quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;number);</span><br><span class="line">	<span class="comment">//int a[number];//c99</span></span><br><span class="line">	<span class="comment">//void* malloc(size_t size);向malloc申请的空间的大小是以字节为单位的，返回的类型为void* </span></span><br><span class="line">	 a = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(number*<span class="keyword">sizeof</span>(<span class="keyword">int</span>));</span><br><span class="line">	 <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; number; i++)&#123;</span><br><span class="line">	 	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">	 &#125;</span><br><span class="line">	 <span class="keyword">for</span> (i=number<span class="number">-1</span>; i&gt;=<span class="number">0</span>; i--) &#123;</span><br><span class="line">	 	 <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, a[i]);</span><br><span class="line">	 &#125;</span><br><span class="line">	 <span class="comment">//对a的操作，完全把它当作数组来操作</span></span><br><span class="line">	 <span class="comment">//试验了定义a为数组之后分配动态内存给a报错，所以只能用指针 </span></span><br><span class="line">	 </span><br><span class="line">	 <span class="built_in">free</span>(a);<span class="comment">//用完了要释放内存 </span></span><br><span class="line">	 </span><br><span class="line">	 <span class="comment">/**</span></span><br><span class="line"><span class="comment">	 malloc向系统要空间，如果没有空间了，申请失败返回0，或者叫做NULL </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	 <span class="keyword">void</span> * p = <span class="number">0</span>;<span class="comment">//写指针的好习惯，定义指针时就初始化为0 </span></span><br><span class="line">	 <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">	 <span class="keyword">while</span>( (p=<span class="built_in">malloc</span>(<span class="number">1024</span>*<span class="number">1024</span>*<span class="number">100</span>)) )&#123;</span><br><span class="line">	 	cnt++;</span><br><span class="line">	 &#125;</span><br><span class="line">	 <span class="built_in">printf</span>(<span class="string">&quot;%d00M\n&quot;</span>, cnt);</span><br><span class="line"></span><br><span class="line">	<span class="built_in">free</span>(p);<span class="comment">//不会报错 </span></span><br><span class="line">	<span class="comment">//0不可能是一个有效的地址，0不可能是malloc得到的地址，free()里会判断如果传入的是NULL那就不做处理 </span></span><br><span class="line">	<span class="comment">//这里free(p)，可以配合上面的int *p = 0;这个好习惯(当中间没有malloc的时候不会报错) ，因为free(0)也不会报错; </span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	常见问题</span></span><br><span class="line"><span class="comment">	申请了没free-&gt;长时间运行内存逐渐下降</span></span><br><span class="line"><span class="comment">		新手：忘了</span></span><br><span class="line"><span class="comment">		老手：找不到合适的时机free</span></span><br><span class="line"><span class="comment">	free过了再次free就报错</span></span><br><span class="line"><span class="comment">	地址变过了(p++)，直接去free </span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	解决办法：</span></span><br><span class="line"><span class="comment">	牢牢记住有malloc就有free</span></span><br><span class="line"><span class="comment">	对程序的整体架构有良好的设计，保证有合适的时机去free</span></span><br><span class="line"><span class="comment">	需要经验，需要多阅读别人的代码，需要多写自己的代码，多总结经验 </span></span><br><span class="line"><span class="comment">	*/</span> </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h1 id="单字符输入输出"><a href="#单字符输入输出" class="headerlink" title="单字符输入输出"></a>单字符输入输出</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span> </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//这集讲了关于shell缓冲区的知识，不好总结，详情请看82集 </span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//int putchar(int c);参数奇怪是int， 但是实际上它接收的是一个字符(char)，你给的一个char它当成int接收了 </span></span><br><span class="line">	<span class="comment">//向标准输出写一个字符</span></span><br><span class="line">	<span class="comment">//返回写了几个字符，EOF(-1)表写失败 </span></span><br><span class="line">	<span class="comment">//EOF（end of file）时C语言里面定义的一个宏，每个宏都会有一个值，EOF的值是-1 </span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//int getchar(void);</span></span><br><span class="line">	<span class="comment">//从标准输入读入一个字符 </span></span><br><span class="line">	<span class="comment">//返回类型是int 是为了返回EOF（-1） 来表示标准输入结束了 </span></span><br><span class="line">	<span class="comment">//Windows-&gt;Ctrl-Z </span></span><br><span class="line">	<span class="comment">//Unix-&gt;Ctrl-D</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> ch;</span><br><span class="line">	<span class="keyword">while</span>((ch = getchar()) != EOF)&#123;</span><br><span class="line">		<span class="built_in">putchar</span>(ch);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;EOF\n&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="字符串数组"><a href="#字符串数组" class="headerlink" title="字符串数组"></a>字符串数组</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	char **a;</span></span><br><span class="line"><span class="comment">		a是一个指针，指向另一个指针，那个指针指向一个字符（串） ，所以它不是我们要的字符串数组 </span></span><br><span class="line"><span class="comment">	*/</span> </span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	char a[][10]; a是一个二维数组 </span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="keyword">char</span> a[][<span class="number">10</span>] = &#123;</span><br><span class="line">		<span class="string">&quot;Hello&quot;</span>,</span><br><span class="line">		<span class="string">&quot;World&quot;</span>,</span><br><span class="line">		<span class="string">&quot;sdasASsSaADASDASDasdds&quot;</span>,<span class="comment">//超出10 这样会warning </span></span><br><span class="line">	&#125;;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//这样是可以的 </span></span><br><span class="line">	<span class="comment">//b[0] --&gt; char*</span></span><br><span class="line">	<span class="keyword">char</span> *b[] = &#123;</span><br><span class="line">		<span class="string">&quot;Hello&quot;</span>,</span><br><span class="line">		<span class="string">&quot;World&quot;</span>,</span><br><span class="line">		<span class="string">&quot;addsadadasddadadadasda&quot;</span>,</span><br><span class="line">	&#125;;</span><br><span class="line"><span class="comment">//	*a[0] = &quot;www&quot;;</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, a[<span class="number">1</span>]);</span><br><span class="line">	<span class="comment">//程序参数</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	int main(int argc, char const *argv[])</span></span><br><span class="line"><span class="comment">	argv[0]是命令本身，当使用Unix的符号链接时，反应符号链接的名字   </span></span><br><span class="line"><span class="comment">	*/</span> </span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;argc; i++) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%d:%s&quot;</span>, i, argv[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="字符串函数的实现"><a href="#字符串函数的实现" class="headerlink" title="字符串函数的实现"></a>字符串函数的实现</h1><h4 id="strlen、strcmp、strcpy"><a href="#strlen、strcmp、strcpy" class="headerlink" title="strlen、strcmp、strcpy"></a>strlen、strcmp、strcpy</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mylen</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(s[len] != <span class="string">&#x27;\0&#x27;</span>)&#123;</span><br><span class="line">		len++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mycmp</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> *s1, <span class="keyword">const</span> <span class="keyword">char</span> *s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> idx = <span class="number">0</span>;</span><br><span class="line">	<span class="comment">//第一种实现方式 </span></span><br><span class="line">	<span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line">		<span class="keyword">if</span> (s1[idx] != s2[idx])</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (s1[idx] == <span class="string">&#x27;\0&#x27;</span> || s2[idx] == <span class="string">&#x27;\0&#x27;</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		idx++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//第二种实现方式 </span></span><br><span class="line">	<span class="keyword">while</span>((s1[idx] != <span class="string">&#x27;\0&#x27;</span> &amp;&amp; s2[idx] != <span class="string">&#x27;\0&#x27;</span>) &amp;&amp; s1[idx] == s2[idx])&#123;</span><br><span class="line">		idx++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//第三种实现方式</span></span><br><span class="line">	<span class="keyword">while</span>(*s1 == *s2 &amp;&amp; (*s1 != <span class="string">&#x27;\0&#x27;</span> &amp;&amp; *s2 != <span class="string">&#x27;\0&#x27;</span>))</span><br><span class="line">	&#123;</span><br><span class="line">		*s1++;</span><br><span class="line">		*s2++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//return *s1-*s2;</span></span><br><span class="line">	<span class="keyword">return</span> s1[idx] - s2[idx];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">我们自己写的就先不用和标准库那样高端，不处理dst和src的重叠 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">char</span> * <span class="title">mycpy</span><span class="params">(<span class="keyword">char</span> * dst, <span class="keyword">const</span> <span class="keyword">char</span> *src)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//版本1 数组形式 </span></span><br><span class="line"><span class="comment">//	int idx = 0;</span></span><br><span class="line"><span class="comment">//	while(src[idx] != &#x27;\0&#x27;)&#123;</span></span><br><span class="line"><span class="comment">//		dst[idx] = src[idx];</span></span><br><span class="line"><span class="comment">//		idx++;</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line"><span class="comment">//	dst[idx] = &#x27;\0&#x27;;</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//指针形式 </span></span><br><span class="line">	<span class="keyword">char</span> *res = dst;</span><br><span class="line">	<span class="comment">//版本2 </span></span><br><span class="line">	<span class="keyword">while</span>(*src != <span class="string">&#x27;\0&#x27;</span>)&#123;</span><br><span class="line">		*dst++ = *src++;</span><br><span class="line">		dst++;</span><br><span class="line">		src++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//版本3 </span></span><br><span class="line"><span class="comment">//	while(*src != &#x27;\0&#x27;)&#123;</span></span><br><span class="line"><span class="comment">//		*dst++ = *src++;</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line">	<span class="comment">//版本4 </span></span><br><span class="line"><span class="comment">//	while(*src)&#123;</span></span><br><span class="line"><span class="comment">//		*dst++ = *src++;</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line">	<span class="comment">//版本5 </span></span><br><span class="line"><span class="comment">//	while(*dst++ = *src++)</span></span><br><span class="line"><span class="comment">//		;</span></span><br><span class="line">	<span class="comment">//以上版本怎么写都行，可读性好就行，因为编译器最后基本都会优化成一个样子所以效率问题就不存在了 </span></span><br><span class="line">	*dst = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//	size_t = strlen(const char *s) 字符串长度 </span></span><br><span class="line">	<span class="keyword">char</span> line[] = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;strlen=%lu\n&quot;</span>, <span class="built_in">strlen</span>(line));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;szieof=%lu\n&quot;</span>, <span class="keyword">sizeof</span>(line));</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;mylen=%lu\n&quot;</span>, mylen(line));</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//	int strcmp(const char *s1, const char *s2) 比较字符串大小 </span></span><br><span class="line">	<span class="keyword">char</span> s1[] = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span> s2[] = <span class="string">&quot;Abc&quot;</span>;	</span><br><span class="line">	<span class="keyword">int</span> res;</span><br><span class="line">	res = <span class="built_in">strcmp</span>(s1, s2);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;res = %d\n&quot;</span>, res);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;strcmp = %d\n&quot;</span>, <span class="built_in">strcmp</span>(s1, s2));</span><br><span class="line">	<span class="keyword">if</span>(res == <span class="number">0</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;s1==s2\n&quot;</span> );</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(res == <span class="number">-1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;s1&lt;s2\n&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;s1&gt;s2\n&quot;</span>);</span><br><span class="line">	&#125; </span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;a-A=%d\n&quot;</span>, <span class="string">&#x27;a&#x27;</span>-<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;mycmp=%d\n&quot;</span>, mycmp(s1, s2));</span><br><span class="line">	<span class="comment">//详情请看视频--函数strcpy </span></span><br><span class="line">	<span class="comment">//	char * strcpy(char *restrict dst, const char *restrict src)把src字符串拷贝到dst。restrict表明src和dst不重叠（C99）</span></span><br><span class="line">	<span class="comment">//有返回 返回的是dst，这么做是为了能链接起来代码 </span></span><br><span class="line">	<span class="comment">//复制一个字符串</span></span><br><span class="line">	<span class="keyword">char</span> src[] = <span class="string">&quot;hhhh&quot;</span>; </span><br><span class="line">	<span class="keyword">char</span> *dst = (<span class="keyword">char</span>*)<span class="built_in">malloc</span>(<span class="built_in">strlen</span>(src)+<span class="number">1</span>);</span><br><span class="line">	<span class="built_in">strcpy</span>(dst, src); </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="strcat、strchr、strstr"><a href="#strcat、strchr、strstr" class="headerlink" title="strcat、strchr、strstr"></a>strcat、strchr、strstr</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	char * strchr(const char *s, int c);</span></span><br><span class="line"><span class="comment">	char * strrchr(const char *s, int c);//从右边找 </span></span><br><span class="line"><span class="comment">	返回NULL表示没找到 </span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">char</span> s[] = <span class="string">&quot;hello world&quot;</span>;</span><br><span class="line">	<span class="keyword">char</span> *p = <span class="built_in">strchr</span>(s, <span class="string">&#x27;l&#x27;</span>);</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	p = strchr(p+1, &#x27;l&#x27;);//找第二个l </span></span><br><span class="line"><span class="comment">	printf(&quot;%s\n&quot;, t);</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	复制l和后面的字符串到一个变量里 </span></span><br><span class="line"><span class="comment">	char *t = (char*)malloc(strlen(p)+1);</span></span><br><span class="line"><span class="comment">	strcpy(t, p);</span></span><br><span class="line"><span class="comment">	printf(&quot;%s\n&quot;, t);</span></span><br><span class="line"><span class="comment">	free(t);</span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">//取要找的字符前面的字符串 </span></span><br><span class="line">	<span class="keyword">char</span> c = *p;</span><br><span class="line">	*p = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">	<span class="keyword">char</span> *t = (<span class="keyword">char</span>*)<span class="built_in">malloc</span>(<span class="built_in">strlen</span>(s)+<span class="number">1</span>);</span><br><span class="line">	<span class="built_in">strcpy</span>(t, s);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, t);</span><br><span class="line">	<span class="built_in">free</span>(t);</span><br><span class="line">	*p = c;<span class="comment">//恢复 </span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	char * strstr(const char *s1, const char *s2);//在一个字符串中，找一个字符串 </span></span><br><span class="line"><span class="comment">	char * strcasestr(const char *s1, const char *s2);//忽略大小写 </span></span><br><span class="line"><span class="comment">	*/</span> </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">枚举是一种用户定义的数据类型，他用关键字enum</span></span><br><span class="line"><span class="comment">enum 枚举类型的名字&#123;名字0, 名字1..., 名字n&#125;; </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//RED是0，YELLOW是1，GREEN是2 ,NunCOLORS是3--&gt;小套路，自动计数。这样需要遍历所有的枚举量或者需要建立一个用枚举做下标的数组的时候就很方便了  </span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">COLOR</span> &#123;</span>RED, YELLOW, GREEN, NumCOLORS&#125;;<span class="comment">//这一行是在声明一种新的数据类型，这个新的类型就叫COLOR ，可以像int，float这样的类型去用，但是用的时候需要加上enum ，enum COLOR </span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">枚举类型的名字通常不真的使用，要用的是大括号里的名字，因为他们就是常量符号，他们的类型是int（内部就是把它当作int来处理的），值依次是从0到n </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">当需要一些可以排列起来的常量值时，定义枚举的意义就是给了这些常量值名字 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">enum</span> COLOR c)</span></span>; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( <span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> color = <span class="number">-1</span>;</span><br><span class="line"><span class="comment">//	char *ColorNames[NumCOLORS] = &#123;</span></span><br><span class="line"><span class="comment">//		&quot;red&quot;, &quot;yellow&quot;, &quot;green&quot;,</span></span><br><span class="line"><span class="comment">//	&#125;;</span></span><br><span class="line">	<span class="keyword">char</span> *colorName = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;输入你喜欢的颜色的代码：&quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;color);</span><br><span class="line">	<span class="keyword">switch</span>(color)&#123;</span><br><span class="line">		<span class="keyword">case</span> RED: colorName = <span class="string">&quot;red&quot;</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> YELLOW : colorName = <span class="string">&quot;yellow&quot;</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">case</span> GREEN: colorName = <span class="string">&quot;green&quot;</span>;<span class="keyword">break</span>;</span><br><span class="line">		<span class="keyword">default</span> : colorName = <span class="string">&quot;unkonwn&quot;</span>;<span class="keyword">break</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"><span class="comment">//	if (color &gt;=0 &amp;&amp; color &lt; NumCOLORS) &#123;</span></span><br><span class="line"><span class="comment">//		colorName = ColorNames[color]; </span></span><br><span class="line"><span class="comment">//	&#125; else &#123;</span></span><br><span class="line"><span class="comment">//		colorName = &quot;unknown&quot;;</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;你喜欢的颜色是%s\n&quot;</span>, colorName);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//-------------------------------</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="class"><span class="keyword">enum</span> <span class="title">COLOR</span> <span class="title">t</span> =</span> RED;</span><br><span class="line">		<span class="comment">//scanf(&quot;%d&quot;, &amp;t);</span></span><br><span class="line">		f(t); </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">f</span><span class="params">(<span class="keyword">enum</span> COLOR c)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">枚举量</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">enum COLOR&#123;RED=1,YELLOW,GREEN=5&#125;;//声明枚举量的时候可以指定值,YELLOW是2 </span></span><br><span class="line"><span class="comment">ennum COLOR color = 0;//现在的编译器即使给枚举类型的变量赋不存在的整数值也没有任何warning和error ,历史上有的编译器会强迫你，给枚举类型的变量赋值的时候必须使用枚举量 </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">虽然枚举类型可以当作类型使用，但实际上很（bu）少（hao）用；</span></span><br><span class="line"><span class="comment">如果有意义上排比的名字，用枚举比const int 方便 </span></span><br><span class="line"><span class="comment">枚举比宏好，因为枚举有int类型 </span></span><br><span class="line"><span class="comment">枚举在c语言中不是那么成功 </span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h1 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//和本地变量一样，在函数内部声明的结构类型只能在函数内部使用</span></span><br><span class="line"><span class="comment">//所以通常在函数外部声明结构类型，这样就可以被多个函数使用了 </span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> month;</span><br><span class="line">	<span class="keyword">int</span> day;</span><br><span class="line">	<span class="keyword">int</span> year;</span><br><span class="line">&#125;; </span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">声明结构的形式 </span></span><br><span class="line"><span class="comment">1.</span></span><br><span class="line"><span class="comment">struct point&#123;</span></span><br><span class="line"><span class="comment">	int x;</span></span><br><span class="line"><span class="comment">	int y;</span></span><br><span class="line"><span class="comment">&#125;; </span></span><br><span class="line"><span class="comment">struct point p1,p2;//p1,p2都是point，里面有x和y的值 </span></span><br><span class="line"><span class="comment">2.</span></span><br><span class="line"><span class="comment">struct &#123;</span></span><br><span class="line"><span class="comment">	int x;</span></span><br><span class="line"><span class="comment">	int y;</span></span><br><span class="line"><span class="comment">&#125; p1,p2;     //p1和p2都是一种无名结构，里面有x和y </span></span><br><span class="line"><span class="comment">3.</span></span><br><span class="line"><span class="comment">struct point &#123;</span></span><br><span class="line"><span class="comment">	int x;</span></span><br><span class="line"><span class="comment">	int y;</span></span><br><span class="line"><span class="comment">&#125; p1,p2;   /p1和p2都是point，里面有x和y </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">声明结构其实就是在声明一种新的变量类型 </span></span><br><span class="line"><span class="comment">*/</span> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> arge, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">today</span>;</span><span class="comment">//定义这种结构类型的变量 </span></span><br><span class="line">	today.month = <span class="number">07</span>;</span><br><span class="line">	today.day = <span class="number">31</span>;</span><br><span class="line">	today.year = <span class="number">2014</span>;</span><br><span class="line">	<span class="comment">//结构的初始化</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">tomoro</span> =</span> &#123;<span class="number">07</span>,<span class="number">31</span>,<span class="number">2014</span>&#125;;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">thismonth</span> =</span> &#123;.month=<span class="number">7</span>, .year=<span class="number">2014</span>&#125;; <span class="comment">//其中day的值会是默认的0 </span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Today`s date is %i-%i-%i.\n&quot;</span>,</span><br><span class="line">		today.year,today.month,today.day</span><br><span class="line">	);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Tomoro`s date is %i-%i-%i.\n&quot;</span>,</span><br><span class="line">		tomoro.year,tomoro.month,tomoro.day</span><br><span class="line">	);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Thismonth`s date is %i-%i-%i.\n&quot;</span>,</span><br><span class="line">		thismonth.year,thismonth.month,thismonth.day</span><br><span class="line">	);</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	结构的成员和数组的单元有点像，不同的是结构的成员可以是不同类型的，数组的单元都是同一类型的</span></span><br><span class="line"><span class="comment">	数组 </span></span><br><span class="line"><span class="comment">	a[0] = 10;</span></span><br><span class="line"><span class="comment">	结构类型 </span></span><br><span class="line"><span class="comment">	today.day</span></span><br><span class="line"><span class="comment">	student.firstName </span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	结构运算</span></span><br><span class="line"><span class="comment">	要访问整个结构，直接用结构变量的名字 ；</span></span><br><span class="line"><span class="comment">	对于整个结构，可以做赋值、取地址，也可以传弟给函数参数</span></span><br><span class="line"><span class="comment">	p1 = (struct point)&#123;5,10&#125;;//相当于p1.x=5; p1.y=10;</span></span><br><span class="line"><span class="comment">	p1 = p2; // 相当于p1.x=p2.x; p1.y=p2.y </span></span><br><span class="line"><span class="comment">	*/</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">yxp</span>;</span></span><br><span class="line">	yxp = (struct date)&#123;<span class="number">07</span>,<span class="number">31</span>,<span class="number">2014</span>&#125;;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">yyy</span>;</span></span><br><span class="line">	yyy = yxp;<span class="comment">//结构变量之间可以赋值， 但是yxp和yyy两个变量 有各自的空间 </span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;yxp`s date is %i-%i-%i.\n&quot;</span>,</span><br><span class="line">		yxp.year,yxp.month,yxp.day</span><br><span class="line">	);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;yyy`s date is %i-%i-%i.\n&quot;</span>,</span><br><span class="line">		yyy.year,yyy.month,yyy.day</span><br><span class="line">	);</span><br><span class="line">	yyy.year = <span class="number">2021</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;yyy`s date is %i-%i-%i.\n&quot;</span>,</span><br><span class="line">		yyy.year,yyy.month,yyy.day</span><br><span class="line">	);</span><br><span class="line">	<span class="comment">//和数组不同，结构变量的名字并不是结构变量的地址，必须用&amp;运算符 </span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">date</span> *<span class="title">pDate</span> =</span> &amp;today; </span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;%p\n&quot;</span>, pDate);</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h1 id="结构与函数"><a href="#结构与函数" class="headerlink" title="结构与函数"></a>结构与函数</h1><p>整个结构可以作为参数的值传入函数</p>
<p>这个时候是在函数内新建一个结构变量，并复制调用者的结构值</p>
<p>也可以返回一个结构</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> month;</span><br><span class="line">	<span class="keyword">int</span> day;</span><br><span class="line">	<span class="keyword">int</span> year;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isLeap</span><span class="params">(struct date d)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">numberOfDays</span><span class="params">(struct date d)</span></span>; </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span> <span class="keyword">const</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">date</span> <span class="title">today</span>, <span class="title">tomorrow</span>;</span></span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Enter today`s date (mm dd yy):&quot;</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">&quot;%i %i %i&quot;</span>, &amp;today.month, &amp;today.day, &amp;today.year);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(today.day != numberOfDays(today))&#123;</span><br><span class="line">		tomorrow.day = today.day+<span class="number">1</span>;</span><br><span class="line">		tomorrow.month = today.month;</span><br><span class="line">		tomorrow.year = today.year;</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (today.month == <span class="number">12</span>) &#123;</span><br><span class="line">		tomorrow.day = <span class="number">1</span>;</span><br><span class="line">		tomorrow.month = <span class="number">1</span>;</span><br><span class="line">		tomorrow.year = today.year+<span class="number">1</span>;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		tomorrow.day = <span class="number">1</span>;</span><br><span class="line">		tomorrow.month = today.month+<span class="number">1</span>;</span><br><span class="line">		tomorrow.year = today.year;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;Tomorrow`s date is %i-%i-%i.\n&quot;</span>, tomorrow.year, tomorrow.month, tomorrow.day);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">numberOfDays</span><span class="params">(struct date d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> days;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">const</span> <span class="keyword">int</span> daysPerMonth[<span class="number">12</span>] = &#123;<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>&#125;;</span><br><span class="line">    <span class="keyword">if</span> (d.month == <span class="number">2</span> &amp;&amp; isLeap(d))</span><br><span class="line">        days = <span class="number">29</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        days = daysPerMonth[d.month<span class="number">-1</span>];</span><br><span class="line">    <span class="keyword">return</span> days;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isLeap</span><span class="params">(struct date d)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">bool</span> leap = <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> ( (d,year %<span class="number">4</span> == <span class="number">0</span> &amp;&amp; d.year % <span class="number">100</span> != <span class="number">0</span>) || d.year%<span class="number">400</span> == <span class="number">0</span> )</span><br><span class="line">        leap = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">return</span> leap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="输入结构"><a href="#输入结构" class="headerlink" title="输入结构"></a>输入结构</h4><p>没有直接的方式可以一次scanf一个结构</p>
<p>可以自己写一个函数来scanf</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></span><br><span class="line">  <span class="keyword">int</span> x;</span><br><span class="line">  <span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getStruct</span><span class="params">(struct point)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(struct point)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">y</span> =</span> &#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    getStruct(y);</span><br><span class="line">    output(y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//结构和数组不一样，参数是传值的方式，传入函数的是外面结构的克隆体，不是指针</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getStruct</span><span class="params">(struct point p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;p.x);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;p.y);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d\n&quot;</span>,p.x, p.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(struct point p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d&quot;</span>,p.x,p.y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如何解决以上，函数里面能把对结构的影响传出呢？</p>
<p>*结构之间可以相互赋值</p>
<p>方案1.在这个函数中创建一个临时的结构变量，然后把这个结构返回给调用者</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></span><br><span class="line">  <span class="keyword">int</span> x;</span><br><span class="line">  <span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">struct point <span class="title">getStruct</span><span class="params">(<span class="keyword">void</span>)</span></span>;<span class="comment">//*</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(struct point)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">y</span> =</span> &#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    y = getStruct();<span class="comment">//*</span></span><br><span class="line">    output(y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">struct point <span class="title">getStruct</span><span class="params">(<span class="keyword">void</span>)</span><span class="comment">//*</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">p</span>;</span><span class="comment">//*</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;p.x);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;p.y);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d\n&quot;</span>,p.x, p.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(struct point p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d&quot;</span>,p.x,p.y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="指向结构的指针"><a href="#指向结构的指针" class="headerlink" title="指向结构的指针"></a>指向结构的指针</h4><p>比较推荐这种结构指针作为参数的方式，因为传值给函数，会在函数内新建一个一摸一样的结构，这样费时费空间。</p>
<p>(*p).month = 12;<br>p-&gt;month = 12;//简略的写法</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> month;</span><br><span class="line">    <span class="keyword">int</span> day;</span><br><span class="line">    <span class="keyword">int</span> year;</span><br><span class="line">&#125; myday;</span><br><span class="line"><span class="comment">//结构变量本身不是地址，所以要用&amp;取址</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">date</span> *<span class="title">p</span> =</span> &amp;myday;</span><br><span class="line"><span class="comment">//指向结构的指针</span></span><br><span class="line">(*p).month = <span class="number">12</span>;</span><br><span class="line">p-&gt;month = <span class="number">12</span>;<span class="comment">//简略的写法</span></span><br></pre></td></tr></table></figure>

<h4 id="结构指针作为参数"><a href="#结构指针作为参数" class="headerlink" title="结构指针作为参数"></a>结构指针作为参数</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></span><br><span class="line">  <span class="keyword">int</span> x;</span><br><span class="line">  <span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">struct point* <span class="title">getStruct</span><span class="params">(struct point*)</span></span>;<span class="comment">//*</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(struct point)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> struct point *p)</span></span>;<span class="comment">//*</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">y</span> =</span> &#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    getStruct(&amp;y);<span class="comment">//*</span></span><br><span class="line">    output(y);</span><br><span class="line">    output(*getStruct(&amp;y));</span><br><span class="line">    print(getStruct(&amp;y));</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">struct point* <span class="title">getStruct</span><span class="params">(struct point *p)</span><span class="comment">//*</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;p-&gt;x);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;p-&gt;y);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d\n&quot;</span>,p-&gt;x, p-&gt;y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">output</span><span class="params">(struct point p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d&quot;</span>,p.x,p.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">(<span class="keyword">const</span> struct point *p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d,%d&quot;</span>,p-&gt;x,p-&gt;y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="结构数组"><a href="#结构数组" class="headerlink" title="结构数组"></a>结构数组</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">time</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> hour;</span><br><span class="line">    <span class="keyword">int</span> minutes;</span><br><span class="line">    <span class="keyword">int</span> seconds;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">struct time <span class="title">timeUpdate</span><span class="params">(struct time now)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">time</span> <span class="title">testTimes</span>[5] =</span> &#123;</span><br><span class="line">        &#123;<span class="number">11</span>,<span class="number">59</span>,<span class="number">59</span>&#125;,&#123;<span class="number">12</span>,<span class="number">0</span>,<span class="number">0</span>&#125;,&#123;<span class="number">1</span>,<span class="number">29</span>,<span class="number">59</span>&#125;,&#123;<span class="number">23</span>,<span class="number">59</span>,<span class="number">59</span>&#125;,&#123;<span class="number">19</span>,<span class="number">12</span>,<span class="number">27</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">5</span>; ++i)&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;Times is %.2i:%.2i:%.2i&quot;</span>,</span><br><span class="line">              testTimes[i].hour, testTimes[i].minutes, testTimes[i].seconds);</span><br><span class="line">        testTimes[i] = timeUpdate(testTimes[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;...one seconds later itis %.2i:%.2i:%.2i\n&quot;</span>,</span><br><span class="line">              testTimes[i].hour, testTimes[i].minutes, testTimes[i].seconds);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">struct time <span class="title">timeUpdate</span><span class="params">(struct time now)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ++now.seconds;</span><br><span class="line">    <span class="keyword">if</span>(now.seconds == <span class="number">60</span>)&#123;</span><br><span class="line">        now.seconds = <span class="number">0</span>;</span><br><span class="line">        ++now.minutes;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(now.minutes == <span class="number">60</span>)&#123;</span><br><span class="line">            now.minutes = <span class="number">0</span>;</span><br><span class="line">            ++now.hour;</span><br><span class="line">            <span class="keyword">if</span>(now.hour == <span class="number">24</span>)&#123;</span><br><span class="line">                now.hour = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="结构中的结构"><a href="#结构中的结构" class="headerlink" title="结构中的结构"></a>结构中的结构</h1><p>struct dateAndTime{</p>
<p>​    struct date sdate;</p>
<p>​    struct time stime;</p>
<p>};</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> x;</span><br><span class="line">	<span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">rectangle</span>&#123;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">pt1</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">pt2</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//如果有struct rectangle r;</span></span><br><span class="line"><span class="comment">//就可以有</span></span><br><span class="line"><span class="comment">//r.pt1.x</span></span><br><span class="line"><span class="comment">//r.pt1.y</span></span><br><span class="line"><span class="comment">//r.pt2.x</span></span><br><span class="line"><span class="comment">//r.pt2.y</span></span><br><span class="line"><span class="comment">//如果</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">rectangle</span> <span class="title">r</span>,*<span class="title">rp</span>;</span></span><br><span class="line">rp = &amp;r;</span><br><span class="line"><span class="comment">//那么以下四种形式是等价的</span></span><br><span class="line"><span class="comment">//r.pt1.x</span></span><br><span class="line"><span class="comment">//rp-&gt;pt1.x</span></span><br><span class="line"><span class="comment">//(r.pt1).x</span></span><br><span class="line"><span class="comment">//(rp-&gt;pt1).x</span></span><br><span class="line"><span class="comment">//但是没有rp-&gt;pt1-&gt;x</span></span><br></pre></td></tr></table></figure>

<h1 id="结构中的结构的数组"><a href="#结构中的结构的数组" class="headerlink" title="结构中的结构的数组"></a>结构中的结构的数组</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">rectangle</span> &#123;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">p1</span>;</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">point</span> <span class="title">p2</span>;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printRect</span><span class="params">(struct rectangle r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;&lt;%d, %d&gt; to &lt;%d, %d&gt;\n&quot;</span>, r.p1.x, r.p1.y, r.p2.x, r.p2.y);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">rectangle</span> <span class="title">rects</span>[] =</span> &#123;</span><br><span class="line">        &#123;&#123;<span class="number">1</span>, <span class="number">2</span>&#125;, &#123;<span class="number">3</span>, <span class="number">4</span>&#125;&#125;,</span><br><span class="line">        &#123;&#123;<span class="number">5</span>, <span class="number">6</span>&#125;, &#123;<span class="number">7</span>, <span class="number">8</span>&#125;&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i&lt;<span class="number">2</span>;  i++)&#123;</span><br><span class="line">        printRect(rects[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="自定义数据类型-typedef"><a href="#自定义数据类型-typedef" class="headerlink" title="自定义数据类型:typedef"></a>自定义数据类型:typedef</h1><p>C语言提供了一个叫做typedef的功能来声明一个已有的数据类型的新名字，typedef改善了程序的可读性，比如：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Length成为int的别名</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span> Length;</span><br><span class="line">Length a,b,len;</span><br><span class="line">Length numbers[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">int64_t</span>;</span><br><span class="line"><span class="keyword">int64_t</span> i = <span class="number">100000000000000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">ADate</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> month;</span><br><span class="line">    <span class="keyword">int</span> day;</span><br><span class="line">    <span class="keyword">int</span> year;</span><br><span class="line">&#125; Date;</span><br><span class="line">Date d = &#123;<span class="number">9</span>, <span class="number">1</span>, <span class="number">2005</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//一个匿名的结构 重命名为Date</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> month;</span><br><span class="line">    <span class="keyword">int</span> year;</span><br><span class="line">&#125; Date;</span><br><span class="line"><span class="comment">//Strings是10个字符串的数组的类型</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">char</span> * Strings[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line">&#125; aNode;</span><br><span class="line"><span class="comment">//或</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span> <span class="title">aNode</span>;</span><span class="comment">//这样用aNode就可以代替node</span></span><br></pre></td></tr></table></figure>

<p>typedef语句那么长，分辨新名字的办法就是：最后的那个词就是–新名字</p>
<h1 id="联合"><a href="#联合" class="headerlink" title="联合"></a>联合</h1><p>和struct非常像</p>
<p>sizeof(union …) = </p>
<p>​    sizeof(每个成员)的最大值</p>
<ul>
<li><p>存储</p>
<ul>
<li>所有成员共享一个空间</li>
<li>同一时间只有一个成员是有效的</li>
<li>union的大小是其最大的成员</li>
</ul>
</li>
<li><p>初始化</p>
<ul>
<li>对第一个成员初始化</li>
</ul>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">union</span> &#123;</span></span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="keyword">char</span> ch[<span class="keyword">sizeof</span>(<span class="keyword">int</span>)];<span class="comment">//有了4个字节的空间，这4个字节可以被看作i或者ch的数组</span></span><br><span class="line">&#125; CHI;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	CHI chi;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	chi.i = <span class="number">1234</span>;<span class="comment">//就会往那4个空间里放入1234的二进制码（我们用16进制表示为0x04D2）</span></span><br><span class="line">    <span class="comment">//chi.i = 1234 -&gt; 0x04D2</span></span><br><span class="line">    <span class="comment">//内存中的样子我们猜应该是</span></span><br><span class="line">    <span class="comment">//--------------------</span></span><br><span class="line">    <span class="comment">//| 00 | 00 | 04 | D2|</span></span><br><span class="line">    <span class="comment">//--------------------</span></span><br><span class="line">    <span class="comment">//那就是说：ch[0] -&gt; 00、ch[1] -&gt; 00、ch[2] -&gt; 04、ch[3] -&gt; D2</span></span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;<span class="keyword">sizeof</span>(<span class="keyword">int</span>); i++) &#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">&quot;%02hhX&quot;</span>, chi.ch[i]);<span class="comment">//此处格式化意思：X-&gt;16进制,hh-&gt;1个字节别扩展了,02-&gt;显示两个数字不足补0</span></span><br><span class="line">        <span class="comment">//输出为：|D2|04|00|00|,因为X86CPU是小端机器，低位在前</span></span><br><span class="line">	&#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    以上是union的一个常用的场景，我可以通过这种方式得到一个整数内部的各个字节，同样用这种方式得到double，float的内部各个字节,这是很有趣的一个工具，用处比如：当我们要做文件操作的时候，当我们要把一个整数以二进制的形式写到一个文件中的时候，这就是我们可以用来作读写的一个中间媒介</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="可变数组"><a href="#可变数组" class="headerlink" title="可变数组"></a>可变数组</h1><p>可变数组的特点</p>
<ul>
<li><p>可以长大</p>
</li>
<li><p>得到大小</p>
</li>
<li><p>访问当前单元</p>
</li>
</ul>
<p>怎么做？我们可以自己定义一个函数库（the interface）</p>
<ul>
<li><p>Array array_create(int init_size)创建</p>
</li>
<li><p>void array_free(Array *a)回收空间</p>
</li>
<li><p>int array_size(const Array *a)数组里有多少单元</p>
</li>
<li><p>int* array_at(Array *a, int index)访问某个单元</p>
</li>
<li><p>void array_inflate(Array *a, int more_size)数组长大</p>
</li>
</ul>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> *<span class="built_in">array</span>;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">&#125; Array;</span><br><span class="line"><span class="comment">//如果</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> *<span class="built_in">array</span>;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">&#125; *Array;<span class="comment">//那么在后面使用Array</span></span><br><span class="line">Array a;<span class="comment">//那么其实a就是一个指针，这样在后面声明Array类型的指针变量就方便些</span></span><br><span class="line"><span class="comment">/*但是使用*Array这种别名的方式，有缺点。</span></span><br><span class="line"><span class="comment">1.那就是我再也无法在本地声明一个Array类型的本地变量了,因为它总是指针；</span></span><br><span class="line"><span class="comment">2.后面的人看到 Array a;总会误以为它就是本地变量，但实际上它是个指针</span></span><br><span class="line"><span class="comment">所以不建议这么做</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>array.h文件</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> _ARRAY_H_</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> _ARRAY_H_</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> *<span class="built_in">array</span>;</span><br><span class="line">    <span class="keyword">int</span> size;</span><br><span class="line">&#125; Array;</span><br><span class="line"><span class="function">Array <span class="title">array_create</span><span class="params">(<span class="keyword">int</span> init_size)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">array_free</span><span class="params">(Array *a)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">array_size</span><span class="params">(<span class="keyword">const</span> Array *a)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">array_at</span><span class="params">(Array *a, <span class="keyword">int</span> index)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">array_inflate</span><span class="params">(Array *a, <span class="keyword">int</span> more_size)</span></span>;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br></pre></td></tr></table></figure>

<p>文件array.c</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;array.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="comment">//typedef struct &#123;</span></span><br><span class="line"><span class="comment">//    int *array;</span></span><br><span class="line"><span class="comment">//    int size;</span></span><br><span class="line"><span class="comment">//&#125; Array;</span></span><br><span class="line"><span class="keyword">const</span> BLOCK_SIZE = <span class="number">20</span>;</span><br><span class="line"><span class="function">Array <span class="title">array_create</span><span class="params">(<span class="keyword">int</span> init_size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Array a;</span><br><span class="line">    a.size = init_size;</span><br><span class="line">    a.<span class="built_in">array</span> = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>)*a.size);</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">array_free</span><span class="params">(Array *a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">free</span>(a-&gt;<span class="built_in">array</span>);</span><br><span class="line">    a-&gt;<span class="built_in">array</span> = <span class="literal">NULL</span>;</span><br><span class="line">    a-&gt;size = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//这里为什么把a-&gt;size放到函数里面了，不在外面直接使用，这叫封装，好处是把实现细节封装起来，以后业务如果变化了直接修改这里就行，方便</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">array_size</span><span class="params">(<span class="keyword">const</span> Array *a)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a-&gt;size; </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span>* <span class="title">array_at</span><span class="params">(Array *a, <span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index &gt; a-&gt;size) &#123;</span><br><span class="line">        <span class="comment">//array_inflate(a, index-a-&gt;size);//不能这么做，一点点加比较浪费资源</span></span><br><span class="line">        <span class="comment">//可以一次给多点</span></span><br><span class="line">        array_inflate(a, (index/BLOCK_SIZE+<span class="number">1</span>)*BLOCK_SIZE-a-&gt;size);</span><br><span class="line">        <span class="comment">//index 102</span></span><br><span class="line">        <span class="comment">//102/20=5 -&gt; 5+1=6 -&gt; 6×20=120</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &amp;(a-&gt;<span class="built_in">array</span>[index]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">array_inflate</span><span class="params">(Array *a, <span class="keyword">int</span> more_size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *p = (<span class="keyword">int</span>*)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="keyword">int</span>)(a-&gt;size + more_size));</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;a-&gt;size; i++) &#123;</span><br><span class="line">        p[i] = a-&gt;<span class="built_in">array</span>[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">free</span>(a-&gt;<span class="built_in">array</span>);</span><br><span class="line">    a-&gt;<span class="built_in">array</span> = p;</span><br><span class="line">    a-&gt;size += more_size;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Array a = array_create(<span class="number">100</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, array_size(&amp;a));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, array_at(&amp;a, <span class="number">0</span>));</span><br><span class="line">    <span class="comment">//为什么array_at要返回一个指针而不是直接返回单元的值？</span></span><br><span class="line">    *array_at(&amp;a, <span class="number">0</span>) = <span class="number">10</span>;<span class="comment">//因为返回指针可以这样做单元赋值</span></span><br><span class="line">    <span class="keyword">int</span> number=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> cnt=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(number != <span class="number">-1</span>)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;number);</span><br><span class="line">        <span class="keyword">if</span>(number != <span class="number">-1</span>)</span><br><span class="line">            *array_at(&amp;a,cnt++) = number;</span><br><span class="line">    &#125;</span><br><span class="line">    array_free(&amp;a);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://yanxipeng001.github.io/2021/07/25/C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" data-id="ckrjeejkf0003wuwd7f7xcofu" class="article-share-link" data-share="baidu" data-title="C语言基础">分享到</a>
      

      
        <a href="https://yanxipeng001.github.io/2021/07/25/C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-Go语言基础" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/15/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" class="article-date">
  <time datetime="2021-07-15T12:15:25.000Z" itemprop="datePublished">2021-07-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/07/15/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/">Go语言基础</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="使用Go编写第一行代码"><a href="#使用Go编写第一行代码" class="headerlink" title="使用Go编写第一行代码"></a>使用Go编写第一行代码</h1><p>新建golangFile文件夹，在文件夹中新建main.go，在里面写入如下代码</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	fmt.Println(<span class="string">&quot;hellow world&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编译</p>
<p><code>go build main.go</code></p>
<p>或者直接编译当前包含go代码的文件夹</p>
<p><code>go build</code></p>
<p>会看到编译后文件夹内多出</p>
<p>main.exe或者golangFile.exe</p>
<p>直接在终端执行就会看到“hello world”了</p>
<p><code>.\main.exe</code></p>
<p>如果想查看编译过程</p>
<p><code>go build -x main.go</code></p>
<p>如果想指定一个编译后的二进制文件名称</p>
<p><code>go build -x -o hello.exe main.go</code></p>
<p>如果省去手动编译过程，一步编译+执行</p>
<p><code>go run main.go</code> 这样直接在一个其它临时的目录生成.exe并执行出结果</p>
<hr>
<h1 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h1><p>*匿名变量 _ ：是一个go已定义的变量，本身这种变量不会进行空间分配，也不会占用一个变量的名字。<br>              相当于一个黑洞，对它的任何赋值都会被吃掉不保存，通常来用作占位符</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义包级别的变量</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	name <span class="keyword">string</span> = <span class="string">&quot;yxp&quot;</span></span><br><span class="line">	age  <span class="keyword">int</span>    = <span class="number">29</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//定义变量可以省略类型，编译器根据字面量去猜这个变量的类型</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">	name2 = <span class="string">&quot;zxm&quot;</span></span><br><span class="line">	age2  = <span class="number">28</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">//不推荐这种在一行里定义多个变量</span></span><br><span class="line"><span class="keyword">var</span> name3, age3 = <span class="string">&quot;hhh&quot;</span>, <span class="number">29</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//定义函数内部变量</span></span><br><span class="line">	<span class="keyword">var</span> test <span class="keyword">string</span></span><br><span class="line">	<span class="comment">//变量的初始化</span></span><br><span class="line">	test = <span class="string">&quot;asd&quot;</span></span><br><span class="line">	fmt.Println(test)</span><br><span class="line">	fmt.Println(name)</span><br><span class="line">	<span class="comment">//这是一个简短声明,简短声明只能在函数内部</span></span><br><span class="line">	yyds := <span class="literal">true</span></span><br><span class="line">	<span class="comment">//简短声明多个变量,其中的变量至少有一个是未定义的</span></span><br><span class="line">	_, num2 := <span class="number">1</span>, <span class="number">2</span></span><br><span class="line">	fmt.Println(yyds)</span><br><span class="line">	<span class="comment">//赋值</span></span><br><span class="line">	test, name = <span class="string">&quot;this is test&quot;</span>, <span class="string">&quot;this is name&quot;</span></span><br><span class="line">	fmt.Println(test, name)</span><br><span class="line">	<span class="comment">//小tips,交换test和name的值</span></span><br><span class="line">	test, name = name, test</span><br><span class="line">	fmt.Println(test, name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">const</span> NAME <span class="keyword">string</span> = <span class="string">&quot;yxp&quot;</span></span><br><span class="line">	<span class="comment">//可以省略类型</span></span><br><span class="line">	<span class="keyword">const</span> AGE = <span class="number">18</span></span><br><span class="line">	<span class="comment">//定义多个常量</span></span><br><span class="line">	<span class="keyword">const</span> (</span><br><span class="line">		AGE1  <span class="keyword">int</span>    = <span class="number">19</span></span><br><span class="line">		NAME1 <span class="keyword">string</span> = <span class="string">&quot;yyy&quot;</span></span><br><span class="line">	)</span><br><span class="line">	<span class="comment">//可以省略类型</span></span><br><span class="line">	<span class="keyword">const</span> (</span><br><span class="line">		AGE2  = <span class="string">&quot;yyds&quot;</span></span><br><span class="line">		NAME2 = <span class="number">20</span></span><br><span class="line">	)</span><br><span class="line">	<span class="comment">//也可以这样</span></span><br><span class="line">	<span class="keyword">const</span> AGE3, NAME3 = <span class="number">21</span>, <span class="string">&quot;jkl&quot;</span></span><br><span class="line">	<span class="comment">//同类型的常量第一个赋值之后，后面的常量值和第一个值相等</span></span><br><span class="line">	<span class="keyword">const</span> (</span><br><span class="line">		AGE4 <span class="keyword">int</span> = <span class="number">1</span></span><br><span class="line">		AGE5</span><br><span class="line">		AGE6</span><br><span class="line">	)</span><br><span class="line">	fmt.Println(AGE4, AGE5, AGE6)</span><br><span class="line">	<span class="comment">//也可以这样写</span></span><br><span class="line">	<span class="keyword">const</span> (</span><br><span class="line">		A1 <span class="keyword">int</span> = <span class="number">1</span></span><br><span class="line">		A2</span><br><span class="line">		A3</span><br><span class="line">		A4 <span class="keyword">float64</span> = <span class="number">0.1</span></span><br><span class="line">		A5</span><br><span class="line">		A6</span><br><span class="line">	)</span><br><span class="line">	fmt.Println(A1, A2, A3, A4, A5, A6)</span><br><span class="line">	<span class="comment">//枚举，const_iota</span></span><br><span class="line">	<span class="keyword">const</span> (</span><br><span class="line">		B1 <span class="keyword">int</span> = <span class="literal">iota</span> <span class="comment">//0</span></span><br><span class="line">		B2            <span class="comment">//1</span></span><br><span class="line">		B3            <span class="comment">//2</span></span><br><span class="line">	)</span><br><span class="line">	fmt.Println(B1, B2, B3)</span><br><span class="line">	<span class="keyword">const</span> (</span><br><span class="line">		C1 <span class="keyword">int</span> = (<span class="literal">iota</span> + <span class="number">1</span>) * <span class="number">100</span> <span class="comment">//100</span></span><br><span class="line">		C2                        <span class="comment">//200</span></span><br><span class="line">		C3                        <span class="comment">//300</span></span><br><span class="line">	)</span><br><span class="line">	fmt.Println(C1, C2, C3)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="作用域、块"><a href="#作用域、块" class="headerlink" title="作用域、块"></a>作用域、块</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//作用域、块。由&#123;&#125;来划分</span></span><br><span class="line">	outer := <span class="string">&quot;outer&quot;</span></span><br><span class="line">	outDeclare := <span class="string">&quot;outDeclare&quot;</span></span><br><span class="line">	&#123;</span><br><span class="line">		inner := <span class="string">&quot;inner&quot;</span></span><br><span class="line">		<span class="comment">//里面可以访问外面的</span></span><br><span class="line">		fmt.Println(outer)</span><br><span class="line">		fmt.Println(inner)</span><br><span class="line">		<span class="comment">//在里面改变外面的</span></span><br><span class="line">		outer = <span class="string">&quot;ch_outer&quot;</span></span><br><span class="line">		fmt.Println(outer)</span><br><span class="line">		<span class="comment">//块内重新定义块外的变量</span></span><br><span class="line">		outDeclare := <span class="string">&quot;bloack_outDeclare&quot;</span></span><br><span class="line">		fmt.Println(outDeclare)</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(outer)</span><br><span class="line">	fmt.Println(outDeclare)</span><br><span class="line">	<span class="comment">//外面不能访问里面的</span></span><br><span class="line">	<span class="comment">//fmt.Println(inner)</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="布尔类型变量"><a href="#布尔类型变量" class="headerlink" title="布尔类型变量"></a>布尔类型变量</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//不初始化默认是false</span></span><br><span class="line">	<span class="keyword">var</span> zero <span class="keyword">bool</span></span><br><span class="line">	<span class="comment">//布尔类型只有两个值true、false。不会像别的语言可以是0和1</span></span><br><span class="line">	<span class="comment">//布尔类型占用空间1字节</span></span><br><span class="line">	isBoy := <span class="literal">true</span></span><br><span class="line">	isGirl := <span class="literal">false</span></span><br><span class="line">	fmt.Println(zero, isBoy, isGirl)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="int类型变量"><a href="#int类型变量" class="headerlink" title="int类型变量"></a>int类型变量</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> age <span class="keyword">int</span> = <span class="number">31</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %d\n&quot;</span>, age, age)</span><br><span class="line">	<span class="comment">//打印查看八进制和十六进制</span></span><br><span class="line">	fmt.Println(<span class="number">0777</span>, <span class="number">0x10</span>)</span><br><span class="line">	<span class="comment">//位运算</span></span><br><span class="line">	<span class="comment">//十进制转换二进制 辗转相除法（请百度）</span></span><br><span class="line">	<span class="comment">//十进制7转换成二进制</span></span><br><span class="line">	<span class="comment">//7/2=3...1, 3/2=1...1, 1/2=0...1</span></span><br><span class="line">	<span class="comment">//0111</span></span><br><span class="line">	<span class="comment">//十进制2转二进制</span></span><br><span class="line">	<span class="comment">//2/2=1...0</span></span><br><span class="line">	<span class="comment">//10</span></span><br><span class="line">	<span class="comment">//7 &amp; 2 =&gt; 0111 &amp; 0010 =&gt; 0010 就是十进制的2</span></span><br><span class="line">	<span class="comment">//7 | 2 =&gt; 0111 | 0010 =&gt; 0111 就是十进制的7</span></span><br><span class="line">	<span class="comment">//7 ^ 2 =&gt; 0111 ^ 0010 =&gt; 0101 就是十进制的5</span></span><br><span class="line">	<span class="comment">//2 &lt;&lt; 1 =&gt; 0010 &lt;&lt; 1  =&gt; 0100 就是十进制的4</span></span><br><span class="line">	<span class="comment">//2 &gt;&gt; 1 =&gt; 0010 &gt;&gt; 1  =&gt; 0001 就是十进制的1</span></span><br><span class="line">	<span class="comment">//7 &amp;^ 2 =&gt; 0111 &amp;^ 0010 =&gt; 0101就是十进制的5；</span></span><br><span class="line">	<span class="comment">//&amp;^ 按位清空，就是两个数字按位一一对应，第二个数字为1的位置，第一个数字就要为0,结果取第一个数字改变后的样子</span></span><br><span class="line">	fmt.Println(<span class="number">7</span> &amp; <span class="number">2</span>)</span><br><span class="line">	fmt.Println(<span class="number">7</span> | <span class="number">2</span>)</span><br><span class="line">	fmt.Println(<span class="number">7</span> ^ <span class="number">2</span>)</span><br><span class="line">	fmt.Println(<span class="number">2</span> &lt;&lt; <span class="number">1</span>)</span><br><span class="line">	fmt.Println(<span class="number">2</span> &gt;&gt; <span class="number">1</span>)</span><br><span class="line">	fmt.Println(<span class="number">7</span> &amp;^ <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//int/uint/byte/rune/int*</span></span><br><span class="line">	<span class="keyword">var</span> intA <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line">	<span class="keyword">var</span> uintB <span class="keyword">uint</span> = <span class="number">3</span></span><br><span class="line">	fmt.Println(intA + <span class="keyword">int</span>(uintB)) <span class="comment">//两种类型的数需要强制转换成一种才能计算</span></span><br><span class="line">	fmt.Println(<span class="keyword">uint</span>(intA) + uintB)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//强制类型转换要注意会溢出丢失,从大往小转</span></span><br><span class="line">	<span class="keyword">var</span> intC <span class="keyword">int</span> = <span class="number">0xfffff</span></span><br><span class="line">	fmt.Println(intC, <span class="keyword">uint8</span>(intC))</span><br><span class="line"></span><br><span class="line">	<span class="comment">//byte,rune。实际上也是int(百度搜索这两种类型，理解的不太清楚)</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">var</span> a <span class="keyword">byte</span> = <span class="string">&#x27;A&#x27;</span></span><br><span class="line">	<span class="keyword">var</span> w <span class="keyword">rune</span> = <span class="string">&#x27;中&#x27;</span></span><br><span class="line">	fmt.Println(a, w)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %d %b %o %x\n&quot;</span>, age, age, age, age, age)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %c\n&quot;</span>, a, a)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %q %U %c\n&quot;</span>, w, w, w, w)</span><br><span class="line">	age = <span class="number">1234</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%5d\n&quot;</span>, age)  <span class="comment">//一共占5位,不够在前面补空格，超出不处理</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%05d\n&quot;</span>, age) <span class="comment">//一共占5位,不够在前面补0</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%-5d\n&quot;</span>, age) <span class="comment">//左对齐，在右边补位。默认是右对齐，在左边补位</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="byte和rune详解"><a href="#byte和rune详解" class="headerlink" title="byte和rune详解"></a>byte和rune详解</h1><p>他们都属于别名类型，byte是uint8(无符号8位整数)的别名类型，rune是int32(有符号32位整数)的别名类型</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> ( </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span> </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//rune类型可以表示一个Unicode字符，rune类型的值需要用&#x27;&#x27;包裹</span></span><br><span class="line">	<span class="comment">//直接使用Unicode支持的字符赋值，这种表示方法最通用，其他的的了解就好</span></span><br><span class="line">    <span class="keyword">var</span> char <span class="keyword">rune</span> = <span class="string">&#x27;赞&#x27;</span> </span><br><span class="line">    <span class="comment">//一个Unicode代码点通常由“U+”和一个以十六进制表示法表示的整数表示。例如，英文字母“A”的Unicode代码点为“U+0041”。</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;字符 &#x27;%c&#x27; 的Unicode代码点是 %s。\n&quot;</span>, char1, (<span class="string">&quot;U+8D5E&quot;</span>))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> ch1 <span class="keyword">rune</span> = <span class="string">&#x27;\101&#x27;</span><span class="comment">//表示字母A,&quot;\&quot;加三位八进制数，只能表示值在[1,255]内的字符</span></span><br><span class="line">    <span class="keyword">var</span> ch2 <span class="keyword">rune</span> = <span class="string">&#x27;\x41&#x27;</span><span class="comment">//表示字母A,&quot;\x&quot;加两个十六进制数，只能表示ASCLL支持的字符</span></span><br><span class="line">    <span class="keyword">var</span> ch3 <span class="keyword">rune</span> = <span class="string">&#x27;\u90DD&#x27;</span><span class="comment">//表示“郝”，&#x27;\u&#x27;加四位十六进制数，只能表示编码值在[0,65535]内的字符</span></span><br><span class="line">    <span class="keyword">var</span> ch4 <span class="keyword">rune</span> = <span class="string">&#x27;\U000090DD&#x27;</span><span class="comment">//表示“郝”，&#x27;\U&#x27;加四位十六进制数，可表示任何Unicode字符</span></span><br><span class="line">    fmt.Println(char,ch1,ch2,ch3,ch4)</span><br><span class="line">    fmt.Printf(<span class="string">&quot;char:%T %c\n&quot;</span>, char, char);</span><br><span class="line">    fmt.Printf(<span class="string">&quot;ch1:%T %c\n&quot;</span>, ch1, ch1);</span><br><span class="line">    fmt.Printf(<span class="string">&quot;ch2:%T %c\n&quot;</span>, ch2, ch2);</span><br><span class="line">    fmt.Printf(<span class="string">&quot;ch3:%T %c\n&quot;</span>, ch3, ch3);</span><br><span class="line">    fmt.Printf(<span class="string">&quot;ch4:%T %c\n&quot;</span>, ch4, ch4);</span><br><span class="line">    <span class="comment">//rune类型值的表示中支持转义字符</span></span><br><span class="line">    <span class="keyword">var</span> ch5 <span class="keyword">rune</span> = <span class="string">&#x27;\&#x27;&#x27;</span><span class="comment">//单引号，Unicode代码点U+0027</span></span><br><span class="line">    <span class="keyword">var</span> ch6 <span class="keyword">rune</span> = <span class="string">&#x27;&quot;&#x27;</span><span class="comment">//双引号，Unicode代码点U+0022</span></span><br><span class="line">    <span class="keyword">var</span> ch7 <span class="keyword">rune</span> = <span class="string">&#x27;\\&#x27;</span><span class="comment">//反斜杠，Unicode代码点U+005c</span></span><br><span class="line">    <span class="keyword">var</span> ch8 <span class="keyword">rune</span> = <span class="string">&#x27;\r&#x27;</span><span class="comment">//回车，Unicode代码点U+000D</span></span><br><span class="line">    <span class="keyword">var</span> ch9 <span class="keyword">rune</span> = <span class="string">&#x27;\t&#x27;</span><span class="comment">//水平制表符，Unicode代码点U+0009</span></span><br><span class="line">    <span class="keyword">var</span> ch10 <span class="keyword">rune</span> = <span class="string">&#x27;\n&#x27;</span><span class="comment">//换行符，Unicode代码点U+000A</span></span><br><span class="line">    <span class="keyword">var</span> ch11 <span class="keyword">rune</span> = <span class="string">&#x27;\b&#x27;</span><span class="comment">//退格符，Unicode代码点U+0008</span></span><br><span class="line">    <span class="keyword">var</span> ch12 <span class="keyword">rune</span> = <span class="string">&#x27;\a&#x27;</span><span class="comment">//告警铃声或蜂鸣声，Unicode代码点U+0007</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;ch5:%T %c\n&quot;</span>, ch5, ch5);</span><br><span class="line">    fmt.Printf(<span class="string">&quot;ch6:%T %c\n&quot;</span>, ch6, ch6);</span><br><span class="line">    fmt.Printf(<span class="string">&quot;ch7:%T %c\n&quot;</span>, ch7, ch7);</span><br><span class="line">    fmt.Printf(<span class="string">&quot;ch8:%T %c\n&quot;</span>, ch8, ch8);</span><br><span class="line">    fmt.Printf(<span class="string">&quot;ch9:%T %c\n&quot;</span>, ch9, ch9);</span><br><span class="line">    fmt.Printf(<span class="string">&quot;ch10:%T %c\n&quot;</span>, ch10, ch10);</span><br><span class="line">    fmt.Printf(<span class="string">&quot;ch11:%T %c\n&quot;</span>, ch11, ch11);</span><br><span class="line">    fmt.Printf(<span class="string">&quot;ch12:%T %c\n&quot;</span>, ch12, ch12);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="浮点类型变量"><a href="#浮点类型变量" class="headerlink" title="浮点类型变量"></a>浮点类型变量</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//float32,float64只有这两种类型</span></span><br><span class="line">	<span class="keyword">var</span> high <span class="keyword">float64</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %f\n&quot;</span>, high, high)</span><br><span class="line">	fmt.Println(<span class="number">1.1</span> + <span class="number">1.2</span>)</span><br><span class="line">	fmt.Println(<span class="number">1.1</span> - <span class="number">1.2</span>)</span><br><span class="line">	fmt.Println(<span class="number">1.1</span> * <span class="number">1.2</span>)</span><br><span class="line">	fmt.Println(<span class="number">1.1</span> / <span class="number">1.2</span>) <span class="comment">//0.9166666666666666</span></span><br><span class="line">	high = <span class="number">1.64</span></span><br><span class="line">	high++</span><br><span class="line">	<span class="comment">//浮点数计算是有精度损耗的，不准确。结果是2.6399999999999997</span></span><br><span class="line">	fmt.Println(high)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %5.2f\n&quot;</span>, high, high) <span class="comment">//保留5位2个小数点</span></span><br><span class="line">	<span class="comment">//关系运算</span></span><br><span class="line">	<span class="comment">//浮点数一般不计算== !=，因为精度损耗结果可能不准确</span></span><br><span class="line">	<span class="comment">//一般计算 &gt; &gt;= &lt; &lt;=</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">//如果要计算== != 请百度搜搜</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="字符串类型变量（含切片和索引）"><a href="#字符串类型变量（含切片和索引）" class="headerlink" title="字符串类型变量（含切片和索引）"></a>字符串类型变量（含切片和索引）</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//特殊字符 \n \f \t \r...在&quot;&quot;里可以被转义，在``里不会被转义</span></span><br><span class="line">	<span class="keyword">var</span> name <span class="keyword">string</span> = <span class="string">&quot;as\tdasa&quot;</span> <span class="comment">//可解释字符串</span></span><br><span class="line">	<span class="keyword">var</span> desc <span class="keyword">string</span> = <span class="string">`aaa\taa`</span>  <span class="comment">//原生字符串</span></span><br><span class="line">	fmt.Println(name, desc)</span><br><span class="line">	<span class="comment">//字符串链接</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;我叫&quot;</span> + <span class="string">&quot;hhh&quot;</span>)</span><br><span class="line">	<span class="comment">//fmt.Println(&quot;我叫&quot; + &#x27;Q&#x27;)//报错 字符串和字符不能连接</span></span><br><span class="line">	<span class="comment">//字符串之间的比较</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;a&quot;</span> == <span class="string">&quot;b&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;a&quot;</span> &gt; <span class="string">&quot;b&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;a&quot;</span> &gt;= <span class="string">&quot;b&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;a&quot;</span> &lt; <span class="string">&quot;b&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;a&quot;</span> &lt;= <span class="string">&quot;b&quot;</span>)</span><br><span class="line">	fmt.Println(<span class="string">&quot;a&quot;</span> != <span class="string">&quot;b&quot;</span>)</span><br><span class="line">	<span class="comment">//使用索引或者切片操作，字符串定义的内容只能为ASCII</span></span><br><span class="line">	desc = <span class="string">&quot;abcdefg&quot;</span></span><br><span class="line">	<span class="comment">//索引为从0~(n-1)</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %c\n&quot;</span>, desc[<span class="number">0</span>], desc[<span class="number">0</span>]) <span class="comment">//a</span></span><br><span class="line">	<span class="comment">//切片[strat:end],取出从[star ~ (end-1)]之内的字符</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %s\n&quot;</span>, desc[<span class="number">0</span>:<span class="number">3</span>], desc[<span class="number">0</span>:<span class="number">3</span>]) <span class="comment">//ab</span></span><br><span class="line">	<span class="comment">//如果不是ASCII</span></span><br><span class="line">	desc = <span class="string">&quot;哈哈哈&quot;</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %c\n&quot;</span>, desc[<span class="number">0</span>], desc[<span class="number">0</span>])     <span class="comment">//乱码</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %s\n&quot;</span>, desc[<span class="number">0</span>:<span class="number">2</span>], desc[<span class="number">0</span>:<span class="number">2</span>]) <span class="comment">//乱码</span></span><br><span class="line">	<span class="comment">//得到字符串长度,也要是ASCII字符串,实际上len()得到的是字符串所占字节</span></span><br><span class="line">	desc = <span class="string">&quot;abc&quot;</span></span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(desc)) <span class="comment">//3</span></span><br><span class="line">	desc = <span class="string">&quot;几十块&quot;</span></span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(desc)) <span class="comment">//9</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="指针类型变量"><a href="#指针类型变量" class="headerlink" title="指针类型变量"></a>指针类型变量</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := <span class="number">2</span></span><br><span class="line">	<span class="keyword">var</span> b <span class="keyword">int</span></span><br><span class="line">	fmt.Println(a, b) <span class="comment">//2 0</span></span><br><span class="line">	b = <span class="number">3</span></span><br><span class="line">	fmt.Println(a, b) <span class="comment">//2 3</span></span><br><span class="line">	<span class="comment">//指针</span></span><br><span class="line">	<span class="keyword">var</span> c *<span class="keyword">int</span></span><br><span class="line">	c = &amp;a</span><br><span class="line">	<span class="comment">//c := &amp;a</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %d\n&quot;</span>, c, c)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %d\n&quot;</span>, *c, *c)</span><br><span class="line">	<span class="comment">//通过指针修改变量a的值</span></span><br><span class="line">	*c = <span class="number">4</span></span><br><span class="line">	fmt.Println(a, *c)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="scan方法，用户输入方法"><a href="#scan方法，用户输入方法" class="headerlink" title="scan方法，用户输入方法"></a>scan方法，用户输入方法</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//用户输入</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> name <span class="keyword">string</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;请输入名字&quot;</span>)</span><br><span class="line">	fmt.Scan(&amp;name)</span><br><span class="line">	fmt.Println(<span class="string">&quot;您输入的内容是:&quot;</span> + name)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//输入内容要保证是int，不是int会输出0</span></span><br><span class="line">	<span class="keyword">var</span> age <span class="keyword">int</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;请输入年龄&quot;</span>)</span><br><span class="line">	fmt.Scan(&amp;age)</span><br><span class="line">	fmt.Println(<span class="string">&quot;年龄是:&quot;</span>, age)</span><br><span class="line"></span><br><span class="line">	<span class="comment">//如果上一个输入的类型错误，那么这里也会使用上一个错的数据类型自动输入</span></span><br><span class="line">	<span class="keyword">var</span> height <span class="keyword">string</span></span><br><span class="line">	fmt.Println(<span class="string">&quot;请输入身高&quot;</span>)</span><br><span class="line">	fmt.Scan(&amp;height)</span><br><span class="line">	fmt.Println(<span class="string">&quot;身高是:&quot;</span>, height)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="if-语句"><a href="#if-语句" class="headerlink" title="if 语句"></a>if 语句</h1><p>语法</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 布尔表达式 &#123;</span><br><span class="line">    <span class="comment">/* 在布尔表达式为 true 时执行 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	x := <span class="number">0</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> n := <span class="string">&quot;abc&quot;</span>; x &gt; <span class="number">0</span> &#123;<span class="comment">//定义了局部变量n，只能在块内访问</span></span><br><span class="line">		fmt.Printf(<span class="string">&quot;%T : %c&quot;</span>, n[<span class="number">2</span>], n[<span class="number">2</span>])</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> x &lt; <span class="number">0</span> &#123; <span class="comment">// 注意 else if 和 else 左大括号位置。</span></span><br><span class="line">		fmt.Printf(<span class="string">&quot;%T : %c&quot;</span>, n[<span class="number">1</span>], n[<span class="number">1</span>])</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;%T : %c&quot;</span>, n[<span class="number">0</span>], n[<span class="number">0</span>])</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>不支持三元操作符(三目运算符) “a &gt; b ? a : b”。</p>
<hr>
<h1 id="switch语句"><a href="#switch语句" class="headerlink" title="switch语句"></a>switch语句</h1><p>Golang switch 分支表达式可以是任意类型，不限于常量。可省略 break，默认自动终止。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> var1 &#123;</span><br><span class="line">    <span class="keyword">case</span> val1:</span><br><span class="line">        ...</span><br><span class="line">    <span class="keyword">case</span> val2:</span><br><span class="line">        ...</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>变量 var1 可以是任何类型，而 val1 和 val2 则可以是<u>同类型的</u>任意值。类型不被局限于常量或整数，但<u>必须是相同的类型；或者最终结果为相同类型的表达式</u>。 您可以同时测试多个可能符合条件的值，使用逗号分割它们，例如：case val1, val2, val3。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> grade <span class="keyword">string</span> = <span class="string">&quot;B&quot;</span></span><br><span class="line">	<span class="keyword">var</span> marks <span class="keyword">int</span> = <span class="number">90</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">switch</span> marks &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">90</span>:</span><br><span class="line">		grade = <span class="string">&quot;A&quot;</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">80</span>:</span><br><span class="line">		grade = <span class="string">&quot;B&quot;</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>:</span><br><span class="line">		grade = <span class="string">&quot;C&quot;</span></span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		grade = <span class="string">&quot;D&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//省略条件表达式，可当 if...else if...else</span></span><br><span class="line">	<span class="keyword">switch</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> grade &gt;= <span class="string">&quot;A&quot;</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;优秀\n&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> grade &gt;= <span class="string">&quot;B&quot;</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;良好\n&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> grade &gt;= <span class="string">&quot;D&quot;</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;及格\n&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> grade &lt;= <span class="string">&quot;D&quot;</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;不及格\n&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//fallthrough</span></span><br><span class="line">	<span class="keyword">var</span> k = <span class="number">0</span></span><br><span class="line">	<span class="keyword">switch</span> k &#123;</span><br><span class="line">	<span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">		<span class="built_in">println</span>(<span class="string">&quot;fallthrough&quot;</span>)</span><br><span class="line">		<span class="keyword">fallthrough</span></span><br><span class="line">		<span class="comment">/*</span></span><br><span class="line"><span class="comment">		   Go的switch非常灵活，表达式不必是常量或整数，执行的过程从上至下，直到找到匹配项；</span></span><br><span class="line"><span class="comment">		   而如果switch没有表达式，它会匹配true。</span></span><br><span class="line"><span class="comment">		   Go里面switch默认相当于每个case最后带有break，</span></span><br><span class="line"><span class="comment">		   匹配成功后不会自动向下执行其他case，而是跳出整个switch,</span></span><br><span class="line"><span class="comment">		   但是可以使用fallthrough强制执行后面的case代码。</span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">	<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;2&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Println(<span class="string">&quot;def&quot;</span>)</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="Type-Switch"><a href="#Type-Switch" class="headerlink" title="Type Switch"></a>Type Switch</h1><p>switch 语句还可以被用于 type-switch 来判断某个 interface 变量中实际存储的变量类型。</p>
<p>格式：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> x.(<span class="keyword">type</span>)&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">type</span>:</span><br><span class="line">       statement(s)      </span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">type</span>:</span><br><span class="line">       statement(s)</span><br><span class="line">    <span class="comment">/* 你可以定义任意个数的case */</span></span><br><span class="line">    <span class="keyword">default</span>: <span class="comment">/* 可选 */</span></span><br><span class="line">       statement(s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实例：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> i := x.(<span class="keyword">type</span>) &#123; <span class="comment">// 带初始化语句</span></span><br><span class="line">	<span class="keyword">case</span> <span class="literal">nil</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot; x 的类型 :%T\r\n&quot;</span>, i)</span><br><span class="line">	<span class="keyword">case</span> <span class="keyword">int</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;x 是 int 型&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="keyword">float64</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;x 是 float64 型&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="function"><span class="keyword">func</span><span class="params">(<span class="keyword">int</span>)</span> <span class="title">float64</span>:</span></span><br><span class="line">		fmt.Printf(<span class="string">&quot;x 是 func(int) 型&quot;</span>)</span><br><span class="line">	<span class="keyword">case</span> <span class="keyword">bool</span>, <span class="keyword">string</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;x 是 bool 或 string 型&quot;</span>)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Printf(<span class="string">&quot;未知型&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="for循环结构"><a href="#for循环结构" class="headerlink" title="for循环结构"></a>for循环结构</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># <span class="keyword">for</span>循环结构</span><br><span class="line"><span class="string">``</span><span class="string">`go</span></span><br><span class="line"><span class="string">package main</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">func main() &#123;</span></span><br><span class="line"><span class="string">    s := &quot;abc&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    // 常见的 for 循环，支持初始化语句。</span></span><br><span class="line"><span class="string">    for i, n := 0, len(s); i &lt; n; i++ &#123; </span></span><br><span class="line"><span class="string">	println(s[i])</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    // 替代 while (n &gt; 0) &#123;&#125;</span></span><br><span class="line"><span class="string">    n := len(s)</span></span><br><span class="line"><span class="string">    for n &gt; 0 &#123; </span></span><br><span class="line"><span class="string">	println(s[n-1]) // 替代 for (; n &gt; 0;) &#123;&#125;</span></span><br><span class="line"><span class="string">	n--</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    // 替代 while (true) &#123;&#125;</span></span><br><span class="line"><span class="string">    // 替代 for (;;) &#123;&#125;</span></span><br><span class="line"><span class="string">    for &#123; </span></span><br><span class="line"><span class="string">	println(1) </span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="for-range"><a href="#for-range" class="headerlink" title="for range"></a>for range</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">s := &quot;abc&quot;</span><br><span class="line">//忽略 value，支持 string/array/slice/map。</span><br><span class="line">for i := range s &#123;</span><br><span class="line">	println(s[i])</span><br><span class="line">&#125;</span><br><span class="line">//忽略 key。</span><br><span class="line">for _, c := range s &#123;</span><br><span class="line">	println(c)</span><br><span class="line">&#125;</span><br><span class="line">// 忽略全部返回值，仅迭代。</span><br><span class="line">for range s &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">m := map[string]int&#123;&quot;a&quot;: 1, &quot;b&quot;: 2&#125;</span><br><span class="line">// 返回 (key, value)。</span><br><span class="line">for k, v := range m &#123;</span><br><span class="line">	println(k, v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="9-9乘法表"><a href="#9-9乘法表" class="headerlink" title="9*9乘法表"></a>9*9乘法表</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">0</span></span><br><span class="line">	<span class="keyword">var</span> b <span class="keyword">int</span> = <span class="number">0</span></span><br><span class="line">	<span class="keyword">for</span> a = <span class="number">1</span>; a &lt; <span class="number">10</span>; a++ &#123;</span><br><span class="line">		<span class="keyword">for</span> b = <span class="number">1</span>; b &lt; <span class="number">10</span>; b++ &#123;</span><br><span class="line">			<span class="keyword">var</span> res <span class="keyword">int</span></span><br><span class="line">			<span class="keyword">if</span> b &lt;= a &#123;</span><br><span class="line">				res = a * b</span><br><span class="line">				fmt.Printf(<span class="string">&quot;%d*%d=%d &quot;</span>, b, a, res)</span><br><span class="line">			&#125;</span><br><span class="line"></span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Printf(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1*1=1 </span><br><span class="line">1*2=2 2*2=4</span><br><span class="line">1*3=3 2*3=6 3*3=9</span><br><span class="line">1*4=4 2*4=8 3*4=12 4*4=16</span><br><span class="line">1*5=5 2*5=10 3*5=15 4*5=20 5*5=25</span><br><span class="line">1*6=6 2*6=12 3*6=18 4*6=24 5*6=30 6*6=36</span><br><span class="line">1*7=7 2*7=14 3*7=21 4*7=28 5*7=35 6*7=42 7*7=49</span><br><span class="line">1*8=8 2*8=16 3*8=24 4*8=32 5*8=40 6*8=48 7*8=56 8*8=64</span><br><span class="line">1*9=9 2*9=18 3*9=27 4*9=36 5*9=45 6*9=54 7*9=63 8*9=72 9*9=81</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;fmt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="comment">//定义数组</span></span><br><span class="line">	<span class="keyword">var</span> num [<span class="number">10</span>]<span class="keyword">int</span></span><br><span class="line">	<span class="keyword">var</span> boolType [<span class="number">10</span>]<span class="keyword">bool</span></span><br><span class="line">	<span class="keyword">var</span> strType [<span class="number">10</span>]<span class="keyword">string</span></span><br><span class="line">	<span class="comment">//查看类型和每个数组单元默认值是什么</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T   %d\n&quot;</span>, num, num)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T   %t\n&quot;</span>, boolType, boolType)</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T   %s\n&quot;</span>, strType, strType)</span><br><span class="line">	<span class="comment">/*数组字面量的三种表示方法*/</span></span><br><span class="line">	<span class="comment">//只定义前几个数组元素</span></span><br><span class="line">	num = [<span class="number">10</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">	fmt.Println(num)</span><br><span class="line">	<span class="comment">//指定数组某个单元的值</span></span><br><span class="line">	num = [<span class="number">10</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>: <span class="number">10</span>, <span class="number">8</span>: <span class="number">80</span>, <span class="number">9</span>: <span class="number">90</span>&#125;</span><br><span class="line">	fmt.Println(num)</span><br><span class="line">	<span class="comment">//不声明数组的长度，数组字面量的元素个数要和数组变量num能容纳的元素个数一致</span></span><br><span class="line">	num = [...]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>&#125;</span><br><span class="line">	fmt.Println(num)</span><br><span class="line"></span><br><span class="line">	<span class="comment">/*数组的计算*/</span></span><br><span class="line">	arr1 := [...]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">	arr2 := [...]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>&#125;</span><br><span class="line">	fmt.Println(arr1 == arr2)</span><br><span class="line">	<span class="comment">//len()获得数组的长度</span></span><br><span class="line">	arr3 := [...]<span class="keyword">string</span>&#123;<span class="string">&quot;asd&quot;</span>, <span class="string">&quot;aaa&quot;</span>&#125;</span><br><span class="line">	fmt.Println(<span class="built_in">len</span>(arr3))</span><br><span class="line">	<span class="comment">//索引</span></span><br><span class="line">	arr3[<span class="number">1</span>] = <span class="string">&quot;hhahah&quot;</span></span><br><span class="line">	fmt.Println(arr3[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">	<span class="comment">//字符串切片</span></span><br><span class="line">	<span class="keyword">var</span> s <span class="keyword">string</span> = <span class="string">&quot;qwertyuiop&quot;</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %v\n&quot;</span>, s[<span class="number">0</span>:<span class="number">4</span>], s[<span class="number">0</span>:<span class="number">4</span>])</span><br><span class="line">	<span class="comment">//数组切片</span></span><br><span class="line">	<span class="keyword">var</span> arr4 [<span class="number">10</span>]<span class="keyword">int</span></span><br><span class="line">	arr4 = [<span class="number">10</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %v\n&quot;</span>, arr4[<span class="number">0</span>:<span class="number">4</span>], arr4[<span class="number">0</span>:<span class="number">4</span>])</span><br><span class="line">	<span class="comment">//多维数组</span></span><br><span class="line">	<span class="keyword">var</span> arr5 [<span class="number">3</span>][<span class="number">2</span>]<span class="keyword">int</span></span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %v\n&quot;</span>, arr5, arr5)</span><br><span class="line">	arr5 = [<span class="number">3</span>][<span class="number">2</span>]<span class="keyword">int</span>&#123;&#123;<span class="number">1</span>&#125;, &#123;<span class="number">2</span>, <span class="number">2</span>&#125;&#125;</span><br><span class="line">	fmt.Printf(<span class="string">&quot;%T %v\n&quot;</span>, arr5, arr5)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="切片slice"><a href="#切片slice" class="headerlink" title="切片slice"></a>切片slice</h1><p>需要说明，slice 并不是数组或数组指针。它通过内部指针和相关属性引用数组片段，以实现变长方案。</p>
<p>————有时间详细了解切片到底是不是指针</p>
<p><strong>nil</strong> 简单来说：</p>
<p>nil是一个预先声明的标识符，表示指针、通道、函数、接口、映射或切片类型。<br>nil可以代表很多类型的零值</p>
<p>————有时间详细总结下nil</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义一个切片</span></span><br><span class="line"><span class="keyword">var</span> num []<span class="keyword">int</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%T len:%d cap:%d\n&quot;</span>, num, <span class="built_in">len</span>(num), <span class="built_in">cap</span>(num))</span><br><span class="line"><span class="keyword">if</span> num == <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;未初始化的切片num 等于 nul，其实切片底层就是一个指针，指针的默认值是空，所以这里切片默认值就是空&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//切片字面量,和初始化</span></span><br><span class="line">num = []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;初始化切片：%#v len:%d cap:%d\n&quot;</span>, num, <span class="built_in">len</span>(num), <span class="built_in">cap</span>(num))</span><br><span class="line"><span class="comment">//切片可长度可变</span></span><br><span class="line">num = []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;改变了切片的长度：%#v len:%d cap:%d\n&quot;</span>, num, <span class="built_in">len</span>(num), <span class="built_in">cap</span>(num))</span><br><span class="line"><span class="comment">//数组长度不可变,以下代码会报错</span></span><br><span class="line"><span class="comment">//var arr = [3]int&#123;1, 2, 3&#125;</span></span><br><span class="line"><span class="comment">//arr = [2]int&#123;1, 2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//数组切片赋值给切片</span></span><br><span class="line"><span class="keyword">var</span> arr1 [<span class="number">10</span>]<span class="keyword">int</span> = [<span class="number">10</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">num = arr1[<span class="number">0</span>:<span class="number">8</span>]</span><br><span class="line">fmt.Printf(<span class="string">&quot;通过数组得到的切片：%#v len:%d cap:%d\n&quot;</span>, num, <span class="built_in">len</span>(num), <span class="built_in">cap</span>(num))</span><br><span class="line"><span class="comment">//make函数</span></span><br><span class="line">num = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">3</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;通过make函数只声明len的切片：%#v len:%d cap:%d \n&quot;</span>, num, <span class="built_in">len</span>(num), <span class="built_in">cap</span>(num))</span><br><span class="line">num = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;通过make函数声明了len和cap的切片：%#v len:%d cap:%d \n&quot;</span>, num, <span class="built_in">len</span>(num), <span class="built_in">cap</span>(num))</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	切片为什么要有容量的概念？为什么不直接使用长度len</span></span><br><span class="line"><span class="comment">	因为切片是可变长的，每次变长都会重新生在内存开辟一片更大的空间，然后把这个空间的地址重新赋值给变量</span></span><br><span class="line"><span class="comment">	那么如果每增加一个元素就新开辟空间再赋值有点浪费计算机资源</span></span><br><span class="line"><span class="comment">	所以可以生成冗余的空间，我们当前用到几个单元就是len，如果需要增加元素就从cap中再给一个len就ok</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*切片的操作，增、删、改、查*/</span></span><br><span class="line"><span class="comment">//查</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;根据索引查看切片元素：%d\n&quot;</span>, num[<span class="number">0</span>])</span><br><span class="line"><span class="comment">//fmt.Println(num[4]) //无法查到4,index out of range [4] with length 3</span></span><br><span class="line"><span class="comment">//改</span></span><br><span class="line">num[<span class="number">0</span>] = <span class="number">10</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;查看通过索引改变了的切片元素：%d\n&quot;</span>, num[<span class="number">0</span>])</span><br><span class="line"><span class="comment">//增</span></span><br><span class="line">num = <span class="built_in">append</span>(num, <span class="number">333</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;查看append之后的切片：%#v len:%d cap:%d \n&quot;</span>, num, <span class="built_in">len</span>(num), <span class="built_in">cap</span>(num))</span><br><span class="line"><span class="comment">//超出切片容量之后，会自动扩展容量。底层其实是重新申请一个更大的内存空间，并把空间的地址赋值给切片变量</span></span><br><span class="line">num = <span class="built_in">append</span>(num, <span class="number">444</span>, <span class="number">555</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;查看append了超出原有容量的切片：%#v len:%d cap:%d \n&quot;</span>, num, <span class="built_in">len</span>(num), <span class="built_in">cap</span>(num))</span><br><span class="line"></span><br><span class="line"><span class="comment">//切片的切片</span></span><br><span class="line">newNum := num[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line"><span class="comment">//new_cap = 10-1</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;查看切片的切片：%#v new_len:%d new_cap:%d \n&quot;</span>, newNum, <span class="built_in">len</span>(newNum), <span class="built_in">cap</span>(newNum))</span><br><span class="line">newNum = num[<span class="number">1</span>:<span class="number">3</span>:<span class="number">6</span>]</span><br><span class="line"><span class="comment">//new_cap = 6-1</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;查看切片的切片：%#v new_len:%d new_cap:%d \n&quot;</span>, newNum, <span class="built_in">len</span>(newNum), <span class="built_in">cap</span>(newNum))</span><br><span class="line"><span class="comment">//切片的切片容量不能设置的比原来的大</span></span><br><span class="line"><span class="comment">//n := num[1:3:100]//这是会报错的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//遍历切片</span></span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> num &#123;</span><br><span class="line">    fmt.Println(k, v)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	切片的副作用</span></span><br><span class="line"><span class="comment">	切片其实是使用源的地址。而不是把源的值复制一份使用</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//切片的切片被改</span></span><br><span class="line">num = <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line">num01 := num[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">fmt.Println(num, num01)</span><br><span class="line">num01[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">fmt.Println(num, num01)</span><br><span class="line"><span class="comment">//增加num01的元素</span></span><br><span class="line">num01 = <span class="built_in">append</span>(num01, <span class="number">111</span>)</span><br><span class="line">fmt.Println(num, num01)</span><br><span class="line"><span class="comment">//增加num的元素</span></span><br><span class="line">num = <span class="built_in">append</span>(num, <span class="number">222</span>)</span><br><span class="line">fmt.Println(num, num01)</span><br><span class="line"><span class="comment">//直到num或num1之中的哪一个先append超出了cap容量，那么就会重新分配空间，两者才会分开</span></span><br><span class="line">num01 = <span class="built_in">append</span>(num01, <span class="number">333</span>, <span class="number">444</span>)</span><br><span class="line">fmt.Println(num, num01)</span><br><span class="line"><span class="comment">//数组的切片被改</span></span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line"><span class="keyword">var</span> num02 = arr2[:] <span class="comment">//只写一个[:]代表生成一个和原数组一样的切片</span></span><br><span class="line">fmt.Println(arr2, num02)</span><br><span class="line">num02[<span class="number">0</span>] = <span class="number">111</span></span><br><span class="line">fmt.Println(arr2, num02)</span><br><span class="line"></span><br><span class="line"><span class="comment">//删-copy。在go中常用copy来实现删除切片元素</span></span><br><span class="line">sArr := []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">sArr1 := []<span class="keyword">int</span>&#123;<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>, <span class="number">44</span>&#125;</span><br><span class="line"><span class="built_in">copy</span>(sArr, sArr1) <span class="comment">//把sArr1 copy到sArr上</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;使用copy的效果：%v\n&quot;</span>, sArr)</span><br><span class="line"><span class="comment">//删除切片第一个元素和最后一个元素</span></span><br><span class="line">sArr2 := []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;删除切片第一个元素：%v\n&quot;</span>, sArr2[<span class="number">1</span>:])</span><br><span class="line">fmt.Printf(<span class="string">&quot;删除切片最后一个元素：%v\n&quot;</span>, sArr2[<span class="number">0</span>:<span class="built_in">len</span>(sArr2)<span class="number">-1</span>])</span><br><span class="line"><span class="comment">//删除切片的中间元素</span></span><br><span class="line"><span class="built_in">copy</span>(sArr2[<span class="number">2</span>:], sArr2[<span class="number">3</span>:])</span><br><span class="line">sArr2 = sArr2[<span class="number">0</span> : <span class="built_in">len</span>(sArr2)<span class="number">-1</span>]</span><br><span class="line">fmt.Printf(<span class="string">&quot;删除sArr2[2]元素：%v\n&quot;</span>, sArr2)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*利用append和删除首尾元素的方法实现，堆栈和队列*/</span></span><br><span class="line"><span class="comment">//队列-先进先出</span></span><br><span class="line">queue := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">fmt.Println(queue)</span><br><span class="line">queue = <span class="built_in">append</span>(queue, <span class="number">1</span>)</span><br><span class="line">fmt.Println(queue)</span><br><span class="line">queue = <span class="built_in">append</span>(queue, <span class="number">2</span>)</span><br><span class="line">fmt.Println(queue)</span><br><span class="line">queue = <span class="built_in">append</span>(queue, <span class="number">3</span>)</span><br><span class="line">fmt.Println(queue)</span><br><span class="line">queue = queue[<span class="number">1</span>:]</span><br><span class="line">fmt.Println(queue)</span><br><span class="line">queue = queue[<span class="number">1</span>:]</span><br><span class="line">fmt.Println(queue)</span><br><span class="line">queue = queue[<span class="number">1</span>:]</span><br><span class="line">fmt.Println(queue)</span><br><span class="line"><span class="comment">//堆栈-先进后出</span></span><br><span class="line">stack := []<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">fmt.Println(stack)</span><br><span class="line">stack = <span class="built_in">append</span>(stack, <span class="number">1</span>)</span><br><span class="line">fmt.Println(stack)</span><br><span class="line">stack = <span class="built_in">append</span>(stack, <span class="number">2</span>)</span><br><span class="line">fmt.Println(stack)</span><br><span class="line">stack = <span class="built_in">append</span>(stack, <span class="number">3</span>)</span><br><span class="line">fmt.Println(stack)</span><br><span class="line">stack = stack[<span class="number">0</span> : <span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">fmt.Println(stack)</span><br><span class="line">stack = stack[<span class="number">0</span> : <span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">fmt.Println(stack)</span><br><span class="line">stack = stack[<span class="number">0</span> : <span class="built_in">len</span>(stack)<span class="number">-1</span>]</span><br><span class="line">fmt.Println(stack)</span><br></pre></td></tr></table></figure>

<p>总结：</p>
<p>​    1. 切片：切片是数组的一个引用，因此切片是引用类型。但自身是结构体，值拷贝传递。</p>
<p>​    2. 切片的长度可以改变，因此，切片是一个可变的数组。</p>
<p>​    3. 切片遍历方式和数组一样，可以用len()求长度。表示可用元素数量，读写操作不能超过该限制。</p>
<p>​    4. cap可以求出slice最大扩张容量，不能超出数组限制。0 &lt;= len(slice) &lt;= len(array)，其中array是slice引用的数组。</p>
<p>​    5. 切片的定义：var 变量名 []类型，比如 var str []string var arr []int。</p>
<p>​    6. 如果 slice == nil，那么 len、cap 结果都等于 0。</p>
<hr>
<h1 id="多维切片"><a href="#多维切片" class="headerlink" title="多维切片"></a>多维切片</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一种声明方式</span></span><br><span class="line">point := [][]<span class="keyword">int</span>&#123;&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;%T\n&quot;</span>, point)</span><br><span class="line">point = [][]<span class="keyword">int</span>&#123;&#123;<span class="number">1</span>, <span class="number">2</span>&#125;, &#123;<span class="number">2</span>, <span class="number">23</span>&#125;, &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;&#125;</span><br><span class="line">fmt.Println(point)</span><br><span class="line">point[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">222</span></span><br><span class="line">fmt.Println(point)</span><br><span class="line"><span class="comment">//第二种声明方式</span></span><br><span class="line">point2 := <span class="built_in">make</span>([][]<span class="keyword">int</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %d %d\n&quot;</span>, point2, <span class="built_in">len</span>(point2), <span class="built_in">cap</span>(point2))</span><br><span class="line">point2 = <span class="built_in">append</span>(point2, []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>&#125;)</span><br><span class="line">fmt.Println(point2)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[][]int</span><br><span class="line">[[1 2] [2 23] [1 2 3 4 5]]</span><br><span class="line">[[1 2] [2 222] [1 2 3 4 5]]</span><br><span class="line">[][]int 2 4</span><br><span class="line">[[] [] [1 1 1 1 1]]</span><br></pre></td></tr></table></figure>



<h1 id="切片和数组的传值类型对比"><a href="#切片和数组的传值类型对比" class="headerlink" title="切片和数组的传值类型对比"></a>切片和数组的传值类型对比</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//改变slice02会影响到slice01，因为slice01赋值给slice02其实是把地址给了slice02，他俩指向同一片内存空间</span></span><br><span class="line"><span class="keyword">var</span> slice01 []<span class="keyword">int</span> = []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br><span class="line"><span class="keyword">var</span> slice02 []<span class="keyword">int</span> = slice01</span><br><span class="line">fmt.Println(slice01, slice02)</span><br><span class="line">slice02[<span class="number">0</span>] = <span class="number">10000</span></span><br><span class="line">fmt.Println(slice01, slice02)</span><br><span class="line">slice02 = []<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>&#125;      <span class="comment">//这里改变slice02，相当于把slice02重新指向了一个新地址</span></span><br><span class="line">fmt.Println(slice01, slice02) <span class="comment">//所以slice01不会跟着变了</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//改变arr02就不会影响到arr01，arr01和arr02指向不同的内存空间</span></span><br><span class="line"><span class="keyword">var</span> arr01 [<span class="number">5</span>]<span class="keyword">int</span> = [<span class="number">5</span>]<span class="keyword">int</span>&#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>&#125;</span><br><span class="line"><span class="keyword">var</span> arr02 = arr01</span><br><span class="line">arr02[<span class="number">0</span>] = <span class="number">222</span></span><br><span class="line">fmt.Println(arr01, arr02)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[1 2 3 4] [1 2 3 4]</span><br><span class="line">[10000 2 3 4] [10000 2 3 4]</span><br><span class="line">[10000 2 3 4] [1 1 1]</span><br><span class="line">[1 1 1 1 1] [222 1 1 1 1]</span><br></pre></td></tr></table></figure>

<h1 id="sort模块的排序函数"><a href="#sort模块的排序函数" class="headerlink" title="sort模块的排序函数"></a>sort模块的排序函数</h1><p>sort模块可以对切片进行排序，请查官网手册的sort模块</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">num := []<span class="keyword">int</span>&#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">678</span>, <span class="number">31</span>&#125;</span><br><span class="line">sort.Ints(num)</span><br><span class="line">fmt.Println(num)</span><br><span class="line"></span><br><span class="line">str := []<span class="keyword">string</span>&#123;<span class="string">&quot;a1a&quot;</span>, <span class="string">&quot;asd&quot;</span>, <span class="string">&quot;34&quot;</span>, <span class="string">&quot;hhh&quot;</span>&#125;</span><br><span class="line">sort.Strings(str)</span><br><span class="line">fmt.Println(str)</span><br><span class="line"></span><br><span class="line">fnum := []<span class="keyword">float64</span>&#123;<span class="number">-1</span>, <span class="number">2.2</span>, <span class="number">391.01</span>, <span class="number">0.0</span>, <span class="number">0</span>&#125;</span><br><span class="line">sort.Float64s(fnum)</span><br><span class="line">fmt.Println(fnum)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[2 3 4 6 31 678]</span><br><span class="line">[34 a1a asd hhh]</span><br><span class="line">[-1 0 0 2.2 391.01]</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="映射"><a href="#映射" class="headerlink" title="映射"></a>映射</h1><p>映射，相当于其它语言的hash-map。是key/value对</p>
<h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//只定义不初始化，那么它是一个值为nil的映射</span></span><br><span class="line"><span class="keyword">var</span> score <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %#v\n&quot;</span>, score, score)</span><br><span class="line"><span class="keyword">if</span> score == <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;score == nil&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">//结果</span><br><span class="line">map[string]int map[string]int(nil)</span><br><span class="line">score == nil</span><br></pre></td></tr></table></figure>

<h4 id="字面量初始化"><a href="#字面量初始化" class="headerlink" title="字面量初始化"></a>字面量初始化</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用字面量的形式初始化得到的是空映射</span></span><br><span class="line"><span class="keyword">var</span> score2 = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;&#125;</span><br><span class="line"><span class="keyword">if</span> score2 != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;score2 != nil&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line">score2 = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;<span class="string">&quot;小李&quot;</span>: <span class="number">10</span>, <span class="string">&quot;小王&quot;</span>: <span class="number">20</span>, <span class="string">&quot;小张&quot;</span>: <span class="number">30</span>&#125;</span><br><span class="line">fmt.Println(score2)</span><br><span class="line"><span class="comment">//使用make方法初始化映射</span></span><br><span class="line"><span class="keyword">var</span> score3 = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>) <span class="comment">//也是个空映射</span></span><br><span class="line">fmt.Println(score3)</span><br><span class="line"><span class="keyword">if</span> score3 != <span class="literal">nil</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;score3 != nil&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//结果</span><br><span class="line">score2 != nil</span><br><span class="line">map[小张:30 小李:10 小王:20]</span><br><span class="line">map[]</span><br><span class="line">score3 != nil</span><br></pre></td></tr></table></figure>

<h4 id="操作-增、删、改、查"><a href="#操作-增、删、改、查" class="headerlink" title="操作-增、删、改、查"></a>操作-增、删、改、查</h4><p>查</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> price = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;<span class="string">&quot;大米&quot;</span>: <span class="number">20</span>, <span class="string">&quot;白面&quot;</span>: <span class="number">30</span>, <span class="string">&quot;豆油&quot;</span>: <span class="number">40</span>&#125;</span><br><span class="line">p := price[<span class="string">&quot;大米&quot;</span>]</span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %#v %v\n&quot;</span>, p, p, p)</span><br><span class="line"><span class="comment">//访问不存在的key值</span></span><br><span class="line">value := price[<span class="string">&quot;粉笔&quot;</span>]</span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %v \n&quot;</span>, value, value)</span><br><span class="line"><span class="comment">//如果price中本来就有一个key/value，的值等于0.就会混淆</span></span><br><span class="line"><span class="comment">//所以</span></span><br><span class="line">v, ok := price[<span class="string">&quot;粉笔&quot;</span>]</span><br><span class="line">fmt.Printf(<span class="string">&quot;v:%T %v ; ok:%T %v\n&quot;</span>, v, v, ok, ok)</span><br><span class="line"><span class="comment">//通过ok的值来判断key=粉笔是否存在</span></span><br><span class="line"><span class="keyword">if</span> ok &#123;</span><br><span class="line">    fmt.Println(v)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//也可以把v，ok变成局部变量</span></span><br><span class="line"><span class="keyword">if</span> v, ok := price[<span class="string">&quot;粉笔&quot;</span>]; ok &#123;</span><br><span class="line">    fmt.Println(v)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;粉笔不存在&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//结果</span><br><span class="line">int 20 20</span><br><span class="line">int 0 </span><br><span class="line">v:int 0 ; ok:bool false</span><br><span class="line">粉笔不存在</span><br></pre></td></tr></table></figure>

<p>改</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> price = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;<span class="string">&quot;大米&quot;</span>: <span class="number">20</span>, <span class="string">&quot;白面&quot;</span>: <span class="number">30</span>, <span class="string">&quot;豆油&quot;</span>: <span class="number">40</span>&#125;</span><br><span class="line">price[<span class="string">&quot;大米&quot;</span>] = <span class="number">100</span></span><br><span class="line">fmt.Println(price)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//结果</span><br><span class="line">map[大米:100 白面:30 豆油:40]</span><br></pre></td></tr></table></figure>

<p>增</p>
<p>映射是无序的，先添加的也不一定就是在前面</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> price = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;<span class="string">&quot;大米&quot;</span>: <span class="number">20</span>, <span class="string">&quot;白面&quot;</span>: <span class="number">30</span>, <span class="string">&quot;豆油&quot;</span>: <span class="number">40</span>&#125;</span><br><span class="line">price[<span class="string">&quot;粉笔&quot;</span>] = <span class="number">10</span></span><br><span class="line">fmt.Println(price) </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//结果</span><br><span class="line">map[大米:20 白面:30 粉笔:10 豆油:40]</span><br></pre></td></tr></table></figure>

<p>删</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> price = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;<span class="string">&quot;大米&quot;</span>: <span class="number">20</span>, <span class="string">&quot;白面&quot;</span>: <span class="number">30</span>, <span class="string">&quot;豆油&quot;</span>: <span class="number">40</span>&#125;</span><br><span class="line"><span class="built_in">delete</span>(price, <span class="string">&quot;白面&quot;</span>)</span><br><span class="line">fmt.Println(price)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//结果</span><br><span class="line">map[大米:20 豆油:40]</span><br></pre></td></tr></table></figure>



<h4 id="获取映射的长度用-len"><a href="#获取映射的长度用-len" class="headerlink" title="获取映射的长度用 len()"></a>获取映射的长度用 len()</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var price = map[string]int&#123;&quot;大米&quot;: 20, &quot;白面&quot;: 30, &quot;豆油&quot;: 40&#125;</span><br><span class="line">fmt.Println(len(price))</span><br></pre></td></tr></table></figure>

<h4 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h4><p>映射是无序的，遍历出来的顺序和添加时的顺序不一样</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> price = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;<span class="string">&quot;大米&quot;</span>: <span class="number">20</span>, <span class="string">&quot;白面&quot;</span>: <span class="number">30</span>, <span class="string">&quot;豆油&quot;</span>: <span class="number">40</span>&#125;</span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> price &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%v=%v \n&quot;</span>, k, v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//结果</span><br><span class="line">白面=30 </span><br><span class="line">豆油=40 </span><br><span class="line">大米=20</span><br></pre></td></tr></table></figure>

<h4 id="映射是无序的"><a href="#映射是无序的" class="headerlink" title="映射是无序的"></a>映射是无序的</h4><p>go的映射是使用hashtable实现的，key和value建立关系是通过计算key，把key转化成一个int索引来和value 一 一映射，但是这个由key计算出的int值是不确定的，以至于映射是无序的</p>
<h4 id="关于key和value的类型"><a href="#关于key和value的类型" class="headerlink" title="关于key和value的类型"></a>关于key和value的类型</h4><p>key的类型至少可以进行 == != 的运算</p>
<p>key的类型可以是：bool int string array 不能是slice不能是map</p>
<p>value可以是任意类型，包括slice map</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义</span></span><br><span class="line"><span class="keyword">var</span> user <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line">user = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;<span class="string">&quot;小胖&quot;</span>: &#123;<span class="string">&quot;班级&quot;</span>: <span class="string">&quot;3年1班&quot;</span>, <span class="string">&quot;年龄&quot;</span>: <span class="string">&quot;10岁&quot;</span>&#125;, <span class="string">&quot;吴亦凡&quot;</span>: &#123;<span class="string">&quot;班级&quot;</span>: <span class="string">&quot;大一&quot;</span>, <span class="string">&quot;年龄&quot;</span>: <span class="string">&quot;18岁&quot;</span>&#125;&#125;</span><br><span class="line">fmt.Println(user)</span><br><span class="line"><span class="comment">//元素的操作-增加</span></span><br><span class="line">user[<span class="string">&quot;美美&quot;</span>] = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;<span class="string">&quot;班级&quot;</span>: <span class="string">&quot;6年一班&quot;</span>, <span class="string">&quot;年龄&quot;</span>: <span class="string">&quot;13岁&quot;</span>&#125;</span><br><span class="line">fmt.Println(user)</span><br><span class="line"><span class="comment">//元素的操作-改</span></span><br><span class="line">user[<span class="string">&quot;美美&quot;</span>][<span class="string">&quot;班级&quot;</span>] = <span class="string">&quot;4年5班&quot;</span></span><br><span class="line">fmt.Println(user)</span><br><span class="line"><span class="comment">//元素的操作-删除</span></span><br><span class="line"><span class="built_in">delete</span>(user[<span class="string">&quot;美美&quot;</span>], <span class="string">&quot;年龄&quot;</span>)</span><br><span class="line">fmt.Println(user)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//结果</span><br><span class="line">map[吴亦凡:map[年龄:18岁 班级:大一] 小胖:map[年龄:10岁 班级:3年1班]]</span><br><span class="line">map[吴亦凡:map[年龄:18岁 班级:大一] 小胖:map[年龄:10岁 班级:3年1班] 美美:map[年龄:13岁 班级:6年一班]]</span><br><span class="line">map[吴亦凡:map[年龄:18岁 班级:大一] 小胖:map[年龄:10岁 班级:3年1班] 美美:map[年龄:13岁 班级:4年5班]]</span><br><span class="line">map[吴亦凡:map[年龄:18岁 班级:大一] 小胖:map[年龄:10岁 班级:3年1班] 美美:map[班级:4年5班]]</span><br></pre></td></tr></table></figure>

<h4 id="映射的练习"><a href="#映射的练习" class="headerlink" title="映射的练习"></a>映射的练习</h4><p>计数</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stack = []<span class="keyword">string</span>&#123;<span class="string">&quot;钢笔&quot;</span>, <span class="string">&quot;钢笔&quot;</span>, <span class="string">&quot;铅笔&quot;</span>, <span class="string">&quot;钢笔&quot;</span>, <span class="string">&quot;毛笔&quot;</span>, <span class="string">&quot;毛笔&quot;</span>, <span class="string">&quot;钢笔&quot;</span>, <span class="string">&quot;毛笔&quot;</span>, <span class="string">&quot;毛笔&quot;</span>&#125;</span><br><span class="line"><span class="keyword">var</span> count = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> stack &#123;</span><br><span class="line">    <span class="comment">// if _, ok := count[v]; !ok &#123;</span></span><br><span class="line">    <span class="comment">// 	count[v] = 1</span></span><br><span class="line">    <span class="comment">// &#125; else &#123;</span></span><br><span class="line">    <span class="comment">// 	count[v] += 1</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">//优化后</span></span><br><span class="line">    count[v] += <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(count)</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//结果</span><br><span class="line">map[毛笔:4 钢笔:4 铅笔:1]</span><br></pre></td></tr></table></figure>

<p>统计每个英文字母出现的次数</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> char = <span class="string">`I say to you today, my friends.</span></span><br><span class="line"><span class="string">And so even though we face the difficulties of today and tomorrow, I still have a dream. It is a dream deeply rooted in the American dream.</span></span><br><span class="line"><span class="string">	I have a dream today!`</span></span><br><span class="line"><span class="keyword">var</span> arr = <span class="keyword">map</span>[<span class="keyword">rune</span>]<span class="keyword">int</span>&#123;&#125;</span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> char &#123;</span><br><span class="line">    <span class="keyword">if</span> v &gt;= <span class="string">&#x27;A&#x27;</span> &amp;&amp; v &lt;= <span class="string">&#x27;Z&#x27;</span> || v &gt;= <span class="string">&#x27;a&#x27;</span> &amp;&amp; v &lt;= <span class="string">&#x27;z&#x27;</span> &#123;</span><br><span class="line">        arr[v] += <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;%#v\n&quot;</span>, arr)</span><br><span class="line">fmt.Println(<span class="string">&quot;------------------------------------------------&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> key, cnt := <span class="keyword">range</span> arr &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%c : %v\n&quot;</span>, key, cnt)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">//结果</span><br><span class="line">map[int32]int&#123;65:2, 73:4, 97:16, 99:3, 100:13, 101:18, 102:5, 103:1, 104:6, 105:8, 108:4, 109:7, 110:6, 111:13, 112:1, 114:9, 115:6, 116:12, 117:3, 118:3, 119:2, 121:7&#125;</span><br><span class="line">------------------------------------------------</span><br><span class="line">A : 2</span><br><span class="line">v : 3</span><br><span class="line">l : 4</span><br><span class="line">I : 4</span><br><span class="line">a : 16</span><br><span class="line">t : 12</span><br><span class="line">d : 13</span><br><span class="line">m : 7</span><br><span class="line">f : 5</span><br><span class="line">r : 9</span><br><span class="line">n : 6</span><br><span class="line">g : 1</span><br><span class="line">s : 6</span><br><span class="line">y : 7</span><br><span class="line">o : 13</span><br><span class="line">u : 3</span><br><span class="line">i : 8</span><br><span class="line">c : 3</span><br><span class="line">e : 18</span><br><span class="line">h : 6</span><br><span class="line">w : 2</span><br><span class="line">p : 1</span><br></pre></td></tr></table></figure>






      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://yanxipeng001.github.io/2021/07/15/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/" data-id="ckrjeejk40002wuwd3vn43buj" class="article-share-link" data-share="baidu" data-title="Go语言基础">分享到</a>
      

      
        <a href="https://yanxipeng001.github.io/2021/07/15/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-如何搭建部署hexo" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/14/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E9%83%A8%E7%BD%B2hexo/" class="article-date">
  <time datetime="2021-07-14T11:46:14.000Z" itemprop="datePublished">2021-07-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/07/14/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E9%83%A8%E7%BD%B2hexo/">如何搭建部署hexo</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>以下操作都是在Linux环境</p>
<h2 id="1-下载安装nodejs"><a href="#1-下载安装nodejs" class="headerlink" title="1.下载安装nodejs"></a>1.下载安装nodejs</h2><p>下载<br><code>wget https://nodejs.org/dist/v14.17.3/node-v14.17.3-linux-x64.tar.xz</code></p>
<p>解压</p>
<p><code>tar -xvf node-v14.17.3-linux-x64.tar.xz</code></p>
<p>删除压缩包</p>
<p><code>rm node-node-v14.17.3-linux-x64.tar.xz</code></p>
<h2 id="2-配置环境变量"><a href="#2-配置环境变量" class="headerlink" title="2.配置环境变量"></a>2.配置环境变量</h2><p>编辑<br><code> vim .bash_profile</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">新增环境变量</span><br><span class="line">export NODE_HOME=/node-v14.17.3-linux-x64</span><br><span class="line">export PATH=$PATH:$NODE_HOME/bin </span><br><span class="line">export NODE_PATH=$NODE_HOME/lib/node_modules</span><br></pre></td></tr></table></figure>
<p>保存<br><code>:wq</code><br>提交<br><code>source .bash_porfile</code><br>检查是否安装成功</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>

<h2 id="3-利用npm安装cnpm"><a href="#3-利用npm安装cnpm" class="headerlink" title="3.利用npm安装cnpm"></a>3.利用npm安装cnpm</h2><p>因为使用外网源会比较卡，我使用了阿里的源</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org  </span><br></pre></td></tr></table></figure>
<p>验证下是否安装成功<br><code>cnpm -v </code></p>
<h2 id="4-安装hexo"><a href="#4-安装hexo" class="headerlink" title="4.安装hexo"></a>4.安装hexo</h2><p>使用cnpm安装hexo<br><code>cnpm install -g hexo-cli </code><br>检查是否安装成功</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo -v</span><br><span class="line">大家发没发现这些命令好多都是相同的（-v都是查看版本），所以不要对命令行操作有恐惧感。</span><br></pre></td></tr></table></figure>
<h2 id="5-使用hexo搭建blog"><a href="#5-使用hexo搭建blog" class="headerlink" title="5.使用hexo搭建blog"></a>5.使用hexo搭建blog</h2><p>在/tmp目录下创建一个blog的文件夹，以后生成的关于hexo博客的文件全都在这里</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp</span><br><span class="line">mkdir blog</span><br><span class="line">cd blog</span><br></pre></td></tr></table></figure>
<p>初始化blog</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br><span class="line">初始化blog会用到git命令，一般Linux会默认安装，如果没有请百度。</span><br></pre></td></tr></table></figure>
<h2 id="6-将blog部署到GitHub的gitpage上"><a href="#6-将blog部署到GitHub的gitpage上" class="headerlink" title="6.将blog部署到GitHub的gitpage上"></a>6.将blog部署到GitHub的gitpage上</h2><p>安装hexo-deployer-git<br><code>cnpm install --save hexo-deployer-git </code></p>
<p>编辑blog目录下的_config.yml文件添加如下内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">    type: git</span><br><span class="line">    repo: git@github.com:yanxipeng001/yanxipeng001.github.io.git</span><br><span class="line">    branch: main</span><br><span class="line">github建议使用ssh地址，github ssh的配置可以百度了解下。</span><br></pre></td></tr></table></figure>

<p>使用如下命令对git进行初始配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;your name&quot;</span><br><span class="line">git config --global user.email &quot;email@email.com&quot;</span><br></pre></td></tr></table></figure>
<p>清理之前生成的内容<br><code>hexo clean</code><br>生成静态文件<br><code>hexo g </code><br>部署到github<br><code>hexo d</code></p>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>有关Gitpage的配置我没写，请查看别人的资料吧~~~</p>
<p>建议不要使用Windows环境，配置过程会比Linux和mac系统下遇到更多的不可预知情况<br>我一开始使用Windows搭建，遇到过权限不足、powershell禁止脚本运行、环境变量配置等问题<br>最终劝退Windows的原因是公司网络不行没办法部署到GitHub，正好手里有个华为云Linux。<br>使用Linux配置之后才体会到省心啊！！</p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://yanxipeng001.github.io/2021/07/14/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E9%83%A8%E7%BD%B2hexo/" data-id="ckrjeejk10001wuwdh3kq28em" class="article-share-link" data-share="baidu" data-title="如何搭建部署hexo">分享到</a>
      

      
        <a href="https://yanxipeng001.github.io/2021/07/14/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E9%83%A8%E7%BD%B2hexo/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/07/14/hello-world/" class="article-date">
  <time datetime="2021-07-14T09:25:30.798Z" itemprop="datePublished">2021-07-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/07/14/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      
        <a data-url="https://yanxipeng001.github.io/2021/07/14/hello-world/" data-id="ckrjeejjw0000wuwdf88c945d" class="article-share-link" data-share="baidu" data-title="Hello World">分享到</a>
      

      
        <a href="https://yanxipeng001.github.io/2021/07/14/hello-world/#ds-thread" class="article-comment-link">评论</a>
      

      
    </footer>
  </div>
  
</article>


  

</section>
      
      <aside id="sidebar">
  
    
  
    
  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">4</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/25/C%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/">C语言基础</a>
          </li>
        
          <li>
            <a href="/2021/07/15/Go%E8%AF%AD%E8%A8%80%E5%9F%BA%E7%A1%80/">Go语言基础</a>
          </li>
        
          <li>
            <a href="/2021/07/14/%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E9%83%A8%E7%BD%B2hexo/">如何搭建部署hexo</a>
          </li>
        
          <li>
            <a href="/2021/07/14/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="http://arvinxiang.com" target="_blank">主题作者</a>
          </li>
        
          <li>
            <a href="http://reqianduan.com" target="_blank">热前端</a>
          </li>
        
          <li>
            <a href="http://yuancheng.work" target="_blank">远程.work</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
      
    </div>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 John Doe<br>
      Powered by <a href="//hexo.io/" target="_blank">Hexo</a>
      .
      Theme by <a href="https://github.com/xiangming/landscape-plus" target="_blank">Landscape-plus</a>
    </div>
  </div>
</footer>
  </div>
  <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
  <!-- totop start -->
<div id="totop">
<a title="返回顶部"><img src="/img/scrollup.png"/></a>
</div>

<!-- totop end -->

<!-- 多说公共js代码 start -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"yanxipeng"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- 多说公共js代码 end -->


<!-- 百度分享 start -->

<div id="article-share-box" class="article-share-box">
  <div id="bdshare" class="bdsharebuttonbox article-share-links">
    <a class="article-share-weibo" data-cmd="tsina" title="分享到新浪微博"></a>
    <a class="article-share-weixin" data-cmd="weixin" title="分享到微信"></a>
    <a class="article-share-qq" data-cmd="sqq" title="分享到QQ"></a>
    <a class="article-share-renren" data-cmd="renren" title="分享到人人网"></a>
    <a class="article-share-more" data-cmd="more" title="更多"></a>
  </div>
</div>
<script>
  function SetShareData(cmd, config) {
    if (shareDataTitle && shareDataUrl) {
      config.bdText = shareDataTitle;
      config.bdUrl = shareDataUrl;
    }
    return config;
  }
  window._bd_share_config={
    "common":{onBeforeClick: SetShareData},
    "share":{"bdCustomStyle":"/css/bdshare.css"}
  };
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

<!-- 百度分享 end -->

<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>




<! -- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
                processEscapes: true
                    
}
  
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
                  
}
    
        });
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Queue(function() {
            var all = MathJax.Hub.getAllJax(), i;
            for(i=0; i < all.length; i += 1) {
                            all[i].SourceElement().parentNode.className += ' has-jax';
                                    
            }
                
        });
</script>

<script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



<script src="/js/script.js"></script>


</div>
</body>
</html>
